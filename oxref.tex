\def\Version{2015/05/25 v0.1}
\ProvidesFile{oxref.tex}
    [\Version\space Biblatex styles inspired by the Oxford Guide to Style]

\documentclass[extrafontsizes,11pt,a4paper,oneside]{memoir}

\newoutputstream{src}
\newoutputstream{oxnotes}
\newoutputstream{oxyear}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% COMMON PREAMBLE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{oxref-preamble.tex}{src}
\begin{writeverbatim}{src}
\setlrmarginsandblock{4cm}{2cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}
\checkandfixthelayout
% Document divisions
\chapterstyle{hangnum}
\hangsecnum
\setsecheadstyle{\Large\bfseries\raggedright}
\setsubsecheadstyle{\large\bfseries\scshape\raggedright}
\setsecnumdepth{subsection}
% Pagination and headers
\nouppercaseheads
\makeoddhead{myheadings}{\textsc{\leftmark}}{}{\thepage}
%\makeevenhead{myheadings}{\thepage}{}{\textsc{\leftmark}}
\makepsmarks{myheadings}{%
  \def\chaptermark##1{\markboth{##1}{##1}}%
  \def\sectionmark##1{\markright{##1}}%
}
\pagestyle{myheadings}
\aliaspagestyle{title}{empty}
% Paragraphs and lists
\setlength{\parindent}{0pt}\nonzeroparskip
\firmlists

\usepackage[british]{babel}
%   \DeclareUnicodeCharacter{2212}{\textminus}
\usepackage[mono=false,defaultfeatures={SmallCapsFeatures={Letters=SmallCaps,Renderer=Basic,Ligatures=NoCommon}}]{libertine}
\usepackage{fontawesome}[2015/07/07]
\newcommand{\booksym}{\makebox[1em][c]{\faicon{book}}}
\newcommand{\cogsym}{\makebox[1em][c]{\faicon{cog}}}
\makeatletter
\@ifpackageloaded{fontspec}{%
  \setmonofont[Scale=MatchLowercase,StylisticSet=1]{Inconsolatazi4}
}{%
  \usepackage[utf8]{inputenc}
  \usepackage[varl]{zi4}
}
\makeatother

\usepackage{microtype,xpatch,csquotes,xcolor,xparse,multicol}
\definecolor{Green}{rgb}{0,.5,0}
\colorlet{ok}{Green}
\colorlet{bad}{red}
\colorlet{hacked}{orange}
\colorlet{manual}{purple}

\usepackage{tcolorbox}
\tcbuselibrary{listingsutf8,breakable,skins,xparse}
\lstloadlanguages{[LaTeX]TeX}
\lstset
  { columns=fullflexible
  , basicstyle=\ttfamily
  , language={[LaTeX]TeX}
  , texcsstyle=*\color{red!75!black}
  , moredelim=**[s][\color{violet}]{[}{]}
  , moredelim=**[s][\color{blue!75!black}]{\{}{\}}
  , mathescape
  , escapechar=~
  }

\usepackage
[backend=biber%
,hyperref=false%
,isbn=false]{biblatex}
\bibliography{oxref}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage[noabbrev,capitalize,nameinlink]{cleveref}

\newcommand*{\lit}[1]{\textsf{#1}}
\newcommand*{\code}[1]{`\textsf{#1}'}
\newcommand*{\aside}[1]{\textcolor{violet}{[\textsc{tip:} #1]}}

% For debugging; userd is either ‘bad’, ‘hacked’, ‘manual’
\makeatletter
\def\CiteStatus{bad}
\newcommand{\dbgcolor}[2]{%
  \bgroup
  \blx@citecmdinit
  \blx@citeinit
  \def\blx@precode{}%
  \def\blx@postcode{}%
  \def\blx@loopcode{%
    \iffieldundef{userd}
    {\xdef\CiteStatus{ok}}
    {\xdef\CiteStatus{\abx@field@userd}}}%
  \blx@citeloop{#1}%
  \textcolor{\CiteStatus}{#2}%
  \egroup
}
\makeatother
\NewTColorBox{bibexbox}{D(){ok}d<>om}%
  {bicolor
  ,colframe = #1
  ,colback = #1!5!white
  ,colbacklower = white
  ,fontlower = \footnotesize
  ,before upper = {\hangfrom{\booksym\space}}
  ,IfNoValueTF={#3}%
    {after upper = {\par\hangfrom{\cogsym\space}\fullcite{#4}.}
    }%
    {after upper = {\par\hangfrom{\cogsym\space}\fullcite[#3]{#4}.}
    ,title = {\texttt{\string\fullcite[#3]\{#4\}}}
    }
  ,IfNoValueTF={#2}{}%
    {overlay = {
      \node[anchor=south east,text=teal] at (frame.south east) {#2};
      }
    }
  }
\NewTotalTColorBox{\spec}{m}%
  {enhanced
  ,sharp corners = west
  ,colframe = teal
  ,colback = teal!5!white
  ,toprule = 0pt
  ,bottomrule = 0pt
  ,rightrule = 0pt
  }{#1}
% \testrow compares target format with generated format. Arguments:
% #1 = target format
% #2 = page range
% #3 = bib key
\NewDocumentCommand\testrow{mom}{\biburlsetup #1\\%
  \makebox[0pt][r]{\footnotesize\textcolor{teal}{#3}\quad}%
  \IfNoValueTF{#2}{\dbgcolor{#3}{\fullcite{#3}.}}%
  {\dbgcolor{#3}{\fullcite[#2]{#3}.}}\par}
% \egcite gives a citation as an example. Arguments:
% #1 = page range
% #2 = bib key
\NewDocumentCommand\egcite{om}{%
  \makebox[0pt][r]{\footnotesize\textcolor{teal}{#2}\quad}%
  \IfNoValueTF{#1}{\dbgcolor{#2}{\fullcite{#2}.}}%
  {\dbgcolor{#2}{\fullcite[#1]{#2}}.}}
\newcommand{\egauthor}[1]{%
  \makebox[0pt][r]{\footnotesize\textcolor{teal}{#1}\quad}%
  \dbgcolor{#1}{\citeauthor{#1}.}%
}

\frenchspacing
\end{writeverbatim}
\closeoutputstream{src}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% OXREF BBX (Common settings)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{oxref.bbx}{src}
\addtostream{src}{\string\ProvidesFile{oxref.bbx}}
\addtostream{src}{\space\space\space\space[\Version\space Base settings for biblatex styles inspired by the Oxford Guide to Style]}
\begin{writeverbatim}{src}
%
% == Preliminaries ==
%
% Dependencies:
% \begin{itemize}
% \item
% For ease of maintenance, we will patch some definitions with 'xpatch'
% instead of writing out our own in full.
% \item
% We will manipulate strings with 'xstring'.
% \end{itemize}
%
\RequirePackage{xpatch}
\RequirePackage{xstring}
%
% Here we set some defaults different to the standard ones. The author
% can still override them.
%
\ExecuteBibliographyOptions{urldate=comp,pagetracker}
%
% Language support may be widened in future, but for now we support the
% following:
%
\DeclareLanguageMapping{english}{british-oxref}
\DeclareLanguageMapping{british}{british-oxref}
\DeclareLanguageMapping{american}{british-oxref}
%
% We provide some additional bibliography strings.
%
\NewBibliographyString{at}
\NewBibliographyString{under}
\NewBibliographyString{facsimile}
\NewBibliographyString{revised}
\NewBibliographyString{byperformer}
\NewBibliographyString{bydirector}
\NewBibliographyString{byreader}
%
% We provide some magic values for triggering formatting changes.
%
% \begin{itemize}
% \item |\isInferred| relates to author names;
% \item |\whenPublished| relates to URL dates.
% \end{itemize}
%
\def\isInferred{inferred}
\def\whenPublished{published}
%
% We base our styles on the standard on the principle of least surprise
% (and to aid with maintenance in the face of new 'biblatex' versions).
%
\RequireBibliographyStyle{standard}
%
% Here are the default punctuation conventions:
%
\renewcommand*{\labelnamepunct}{\addcomma\space}
\renewcommand*{\newunitpunct}{\addcomma\space}
\renewcommand*{\subtitlepunct}{\addcolon\space}
\renewcommand*{\intitlepunct}{\nopunct\space}
\renewcommand*{\bibnamedash}{\rule[0.5ex]{2em}{\normalrulethickness}\addthinspace}
\renewcommand*{\revsdnamedelim}{\addcomma}
%
% == Name handling ==
%
% We declare some new formats so that authors/editors/others who appear
% mid-reference can be handled differently from those that appear at the
% head of the reference
%
\DeclareNameAlias{bookauthor}{default}
\DeclareNameAlias{bookeditor}{default}
%
% Traditionally, Oxford style (for the humanities) is to write author
% names in small capitals in the bibliography, surname first; but in
% citations, they are written in normal case in natural order. We
% implement this with the `scstartname' name format.
%
\DeclareNameFormat{scstartname}{%
  \ifbibliography{%
    \ifnumequal{\value{listcount}}{1}{%
      \iffirstinits{%
        \usebibmacro{name:last-first}%
          {\ifblank{#1}{}{\textsc{#1}}}%
          {\ifblank{#4}{}{\textsc{#4}}}%
          {\ifblank{#5}{}{\textsc{#5}}}%
          {\ifblank{#7}{}{\textsc{#7}}}%
      }{%
        \usebibmacro{name:last-first}%
          {\ifblank{#1}{}{\textsc{#1}}}%
          {\ifblank{#3}{}{\textsc{#3}}}%
          {\ifblank{#5}{}{\textsc{#5}}}%
          {\ifblank{#7}{}{\textsc{#7}}}%
      }%
      \ifblank{#3#5}
        {}
        {\usebibmacro{name:revsdelim}}%
    }{%
      \iffirstinits{%
        \usebibmacro{name:last-first}%
          {\ifblank{#1}{}{\textsc{#1}}}%
          {\ifblank{#4}{}{\textsc{#4}}}%
          {\ifblank{#5}{}{\textsc{#5}}}%
          {\ifblank{#7}{}{\textsc{#7}}}%
      }{%
        \usebibmacro{name:last-first}%
          {\ifblank{#1}{}{\textsc{#1}}}%
          {\ifblank{#3}{}{\textsc{#3}}}%
          {\ifblank{#5}{}{\textsc{#5}}}%
          {\ifblank{#7}{}{\textsc{#7}}}%
      }%
    }%
  }{%
    \iffirstinits
      {\usebibmacro{name:first-last}{#1}{#4}{#5}{#7}}%
      {\usebibmacro{name:first-last}{#1}{#3}{#5}{#7}}%
  }%
  \usebibmacro{name:andothers}%
}
%
% The small caps aspect of this seems to be falling out of favour so we
% provide a variant that uses normal case in the bibliography as well,
% `lcstartname'.
%
\DeclareNameFormat{lcstartname}{%
  \ifbibliography{%
    \ifnumequal{\value{listcount}}{1}{%
      \iffirstinits
        {\usebibmacro{name:last-first}{#1}{#4}{#5}{#7}}%
        {\usebibmacro{name:last-first}{#1}{#3}{#5}{#7}}%
      \ifblank{#3#5}
        {}
        {\usebibmacro{name:revsdelim}}%
    }{%
      \iffirstinits
        {\usebibmacro{name:last-first}{#1}{#4}{#5}{#7}}%
        {\usebibmacro{name:last-first}{#1}{#3}{#5}{#7}}%
    }%
  }{%
    \iffirstinits
      {\usebibmacro{name:first-last}{#1}{#4}{#5}{#7}}%
      {\usebibmacro{name:first-last}{#1}{#3}{#5}{#7}}%
  }%
  \usebibmacro{name:andothers}%
}
%
% When using natural order for names, there is no comma before numeric
% suffixes, but there is before textual ones (e.g. ‘junior’).
%
\xpatchbibmacro{name:first-last}%
  {\bibnamedelimd\mkbibnameaffix{#4}}%
  {\ifnumeral{#4}{}{\addcomma}\bibnamedelimd\mkbibnameaffix{#4}}{}{}
%
% For pseudonyms, Oxford style is to put the other name in parentheses
% after the main one. 'Biblatex' provides the `nameaddon' field for this
% use case.
%
\DeclareFieldFormat{nameaddon}{\mkbibparens{#1}}
%
% Traditional Oxford style is to use dashes instead of repeating author
% names, though NHR recommends abandoning the practice as it interferes
% with text mining. As per the standard `authortitle' and `authoryear'
% styles, we implement dashes by default but allow authors to switch
% this behaviour off with `dashed=false'.
%
\newbibmacro*{bbx:savehash}{%
  \savefield{fullhash}{\bbx@lasthash}}
\DeclareBibliographyOption{dashed}[true]{%
  \ifstrequal{#1}{true}{%
    \ExecuteBibliographyOptions{pagetracker}%
    \renewbibmacro*{bbx:savehash}{\savefield{fullhash}{\bbx@lasthash}}%
  }{%
    \renewbibmacro*{bbx:savehash}{}%
  }%
}
\InitializeBibliographyStyle{%
  \global\undef\bbx@lasthash}
\newbibmacro*{bbx:dashcheck}[2]{%
  \ifboolexpr{
    test {\iffieldequals{fullhash}{\bbx@lasthash}}
    and
    not test \iffirstonpage
    and
    (
      not bool {bbx@inset}
      or
      test {\iffieldequalstr{entrysetcount}{1}}
    )
  }{#1}{#2}%
}
%
% The following is used in the `authortitle' and `authoryear' styles to
% switch off the dash check macro for reference sets.
%
\newbool{bbx@inset}
\DeclareBibliographyDriver{set}{%
  \booltrue{bbx@inset}%
  \entryset{}{}%
  \newunit\newblock
  \usebibmacro{setpageref}%
  \finentry}
%
% The `author' macro is enhanced from the standard version by
% \begin{itemize}
%   \item
%   including a dash check, to see if the name(s) should be replaced
%   with a dash (as in `authortitle' and `authoryear');
%   \item
%   checking if the author name(s) should be formatted as if inferred;
%   \item
%   inserting the `nameaddon' field if provided;
%   \item
%   inserting the author type if provided (as in `authoryear').
% \end{itemize}
%
\renewbibmacro*{author}{%
  \ifboolexpr{
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }
  {\usebibmacro{bbx:dashcheck}
    {\bibnamedash}
    {\usebibmacro{bbx:savehash}%
      \iffieldequals{authortype}{\isInferred}
      {\mkbibbrackets{\printnames{author}}\clearfield{authortype}}%
      {\printnames{author}}%
      \iffieldundef{nameaddon}
      {}
      {\setunit{\addspace}%
        \printfield{nameaddon}}%
      \iffieldundef{authortype}
      {\setunit{\addspace}}
      {\setunit{\addcomma\space}}}%
    \iffieldundef{authortype}
    {}
    {\usebibmacro{authorstrg}%
      \setunit{\addspace}}}%
  {\global\undef\bbx@lasthash}}
%
% Following `authortitle' and `authoryear', we redefine the `editor' and
% `editor+others' macros to use a common `bbx:editor' macro. The macro
% we use is the same as the usual one except the editor type is set off
% using parentheses instead of a comma.
%
\renewbibmacro*{editor}{%
  \usebibmacro{bbx:editor}{editorstrg}}
\renewbibmacro*{editor+others}{%
  \usebibmacro{bbx:editor}{editor+othersstrg}}
\newbibmacro*{bbx:editor}[1]{%
  \ifboolexpr{
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }
  {\usebibmacro{bbx:dashcheck}
    {\bibnamedash}
    {\printnames{editor}%
     \setunit{\addspace}%
     \usebibmacro{bbx:savehash}}%
    \usebibmacro{#1}%
    \clearname{editor}}
  {\global\undef\bbx@lasthash}}
\DeclareFieldFormat{editortype}{\mkbibparens{#1}}
%
% We do the same for `translator' as well.
%
\renewbibmacro*{translator}{%
  \usebibmacro{bbx:translator}{translatorstrg}}
\renewbibmacro*{translator+others}{%
  \usebibmacro{bbx:translator}{translator+othersstrg}}
\newbibmacro*{bbx:translator}[1]{%
  \ifboolexpr{
    test \ifusetranslator
    and
    not test {\ifnameundef{translator}}
  }
  {\usebibmacro{bbx:dashcheck}
    {\bibnamedash}
    {\printnames{translator}%
      \setunit{\addspace}%
      \usebibmacro{bbx:savehash}}%
    \usebibmacro{#1}%
    \clearname{translator}%
    \setunit{\addspace}}%
  {\global\undef\bbx@lasthash}}
\xpatchbibmacro{translatorstrg}%
  {\bibstring}%
  {\bibstring[\mkbibparens]}{}{}%
\xpatchbibmacro{translator+othersstrg}%
  {\bibstring}%
  {\bibstring[\mkbibparens]}{}{}%
%
% When referencing one work from a collection by the same author,
% Oxford style traditionally puts \enquote{id.} in the `bookauthor'
% position (instead of omitting it as in standard 'biblatex').
%
\renewbibmacro*{bybookauthor}{%
  \ifnamesequal{author}{bookauthor}%
  {\bibstring{idem\thefield{gender}}}%
  {\printnames{bookauthor}}}
%
% Similarly, with mixed collections, if referencing a work by the editor
% of the collection, the editor name is replaced with \enquote{id.}. We
% insert this logic into a copy of the `editor+others' macro, which will
% \emph{not} get a year inserted into it by 'oxyear'.
%
\newbibmacro*{bookeditor}{%
  \global\undef\bbx@lasthash
  \ifboolexpr{
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }{%
    \ifnamesequal{author}{editor}{%
      \bibstring{idem\thefield{gender}}%
      \addspace
      \usebibmacro{editor+othersstrg}%
      \clearname{editor}%
    }{%
      \printnames[bookeditor]{editor}%
      \setunit{\addcomma\space}%
      \usebibmacro{editor+othersstrg}%
      \clearname{editor}%
    }%
  }{}}
%
% == Date handling ==
%
% Year ranges are truncated (e.g.~2012–3). Therefore, we provide a
% command that compares two years, and outputs a full or truncated
% version of the second year, depending on how similar it is to the
% first. It is extracted and adapted from code by Marco Daniel.%
% \footnote{\url{http://tex.stackexchange.com/questions/23483/}}
%
\newcommand{\blx@ox@compyear}[2]{%
  \def\num@one{#1}%
  \def\num@two{#2}%
  \StrLen{\num@one}[\num@one@len]%
  \StrLen{\num@two}[\num@two@len]%
  \IfEq{\num@one@len}{\num@two@len}%
  {\StrCompare{\num@one}{\num@two}[\Result]%
    \ifnum\num@two@len>3%
    \IfStrEq{\Result}{2}{\def\Result{1}}{}%
    \fi
    \StrGobbleLeft{0\num@two}{\Result}}%
  {\num@two}%
}
%
% We patch the truncated date formats from the standard `lbx' files to
% use the above function.
%
\patchcmd{\mkbibrangetrunc}{%
  \csuse{mkbibdate#1}{#2endyear}{#2endmonth}{#2endday}%
}{%
  \iffieldundef{#2month}%
    {\blx@ox@compyear{\thefield{#2year}}{\thefield{#2endyear}}}%
    {\csuse{mkbibdate#1}{#2endyear}{#2endmonth}{#2endday}}%
}{}{}
\patchcmd{\mkbibrangetruncextra}{%
  \csuse{mkbibdate#1}{#2endyear}{#2endmonth}{#2endday}%
}{%
  \iffieldundef{#2month}%
    {\blx@ox@compyear{\thefield{#2year}}{\thefield{#2endyear}}}%
    {\csuse{mkbibdate#1}{#2endyear}{#2endmonth}{#2endday}}%
}{}{}
%
% We provide a way of prefacing dates with a type. This is mainly
% intended for online resources.
%
\let\dateType\@empty
\DeclareEntryOption{datetype}{\def\dateType{#1\addspace}}
\renewbibmacro*{date}{%
  \ifx\@empty\dateType\else\printtext{\dateType}\fi
  \printdate}
%
% == Other number-like fields ==
%
% We let `edition' take a language key as well as a number 
%
\xpatchfieldformat{edition}{%
  #1\isdot
}{%
  \ifbibstring{#1}{\bibstring{#1}}{#1\isdot}%
}{}{}
%
% Page ranges are compressed, but are not usually marked with
% \enquote{pp.}.
%
\DeclareFieldFormat{pages}{\mkcomprange{#1}}
%
% == URLs ==
%
% The OGS recommends the ISO convention of enclosing URLs in angle
% brackets, but NHR recommends leaving URLs bare so as not to interfere
% with text-mining. The latter is the default.
%
\DeclareBibliographyOption{isourls}[true]{%
  \ifstrequal{#1}{true}
    {\DeclareFieldFormat{url}{$\langle$\url{##1}$\rangle$}}
    {\DeclareFieldFormat{url}{\url{##1}}}%
}
\ExecuteBibliographyOptions{isourls=false}
%
% URL dates are set off with a comma rather than parentheses.
%
\DeclareFieldFormat{urldate}{\bibstring{urlseen}\space#1}
\xpatchbibmacro{url+urldate}%
  {\setunit*{\addspace}}%
  {\setunit*{\addcomma\addspace}}{}{}
%
% The `urldatetype' implementation below was intended to support a use
% case from the OGS, but it is not something promoted by NHR, and that
% sort of use case is probably better met with a note of some kind.
% It will be removed.
%
\DeclareEntryOption{urldatetype}{%
  \DeclareFieldFormat{urldate}{\printtext{#1}\space##1}%
  \renewbibmacro*{url+urldate}{%
    \iffieldundef{url}{}{%
      \newunit
      \printurldate%
      \setunit*{\addspace}%
      \printfield{url}%
      \nopunct
    }%
  }%
}
%
% The DOI is introduced by \enquote{doi} in lowercase.
%
\xpatchfieldformat{doi}%
  {\mkbibacro{DOI}}%
  {\printtext{doi}}{}{}
%
% == Addenda ==
%
% Publication state is given in parentheses. Other addenda are added
% plain.
%
\renewbibmacro*{addendum+pubstate}{%
  \iffieldundef{pubstate}{}{\nopunct}%
  \printfield[parens]{pubstate}%
  \setunit{\addperiod\addspace}\newblock
  \printfield{addendum}}
%
% == Periodical-style entries ==
%
% Subtypes for articles and similar are in square brackets.
%
\DeclareFieldFormat[article,periodical,review]{entrysubtype}{\mkbibbrackets{#1}}
%
% Journal types are also in square brackets. Note that when OGS was
% published, online journals were a novelty, but since they are now
% commonplace there is no purpose to pointing them out any more, so NHR
% doesn't. This complication will be removed. 
%
\newbibmacro*{journaltype}{%
  \iffieldequalstr{entrysubtype}{online journal}%
  {\nopunct\printfield{entrysubtype}}{}%
}
%
% We patch the `journal+issuetitle' macro so that if a work takes up a
% whole issue (signified by using `issuetitle' \emph{instead} of
% `title'), the title and journal title are separated by \enquote{=}
% instead of the usual punctuation.
% We also insert the above macro for journal types,
% and insert a new unit after the journal title regardless of what
% follows.
%
\xpatchbibmacro{journal+issuetitle}{%
  \usebibmacro{journal}%
  \setunit*{\addspace}%
}{
  \ifboolexpr{
    test {\iffieldundef{title}}
    and
    not test {\iffieldundef{issuetitle}}
  }{%
    \usebibmacro{issue}%
    \clearfield{issuetitle}%
    \setunit{\addspace =\addspace}}{}%
  \usebibmacro{journal}%
  \usebibmacro{journaltype}%
  \newunit
}{}{}
\xpatchbibmacro*{journal+issuetitle}{%
  \newunit\printfield{series}%
}{%
  \printfield{series}%
}{}{}
%
% Similarly, we patch the `title+issuetitle' macro to insert
% the `journaltype' macro and insert
% a new unit after the journal title regardless of what follows.
%
\xpatchbibmacro{title+issuetitle}{%
  \usebibmacro{periodical}%
  \setunit*{\addspace}%
}{%
  \usebibmacro{periodical}%
  \usebibmacro{journaltype}%
  \newunit
}{}{}
\xpatchbibmacro*{title+issuetitle}{%
  \newunit\printfield{series}%
}{%
  \printfield{series}%
}{}{}
%
% On last inspection, `biblatex' hard-coded the punctuation for volumes
% and issue numbers into the `title+issuetitle' macro instead of
% delegating to the appropriate macro. We expect this to change in
% future but in the meantime correct this ourselves.
%
\xpatchbibmacro*{title+issuetitle}{%
  \printfield{volume}%
  \setunit*{\adddot}%
  \printfield{number}%
  \setunit{\addcomma\space}%
  \printfield{eid}%
}{%
  \usebibmacro{volume+number+eid}%
}{}{}
%
% OGS and NHR provide plentiful options for formatting volume and issue
% numbers. We implement four of them here as options. The default is to
% use a slash between volume and issue number.
%
\DeclareBibliographyOption{issuestyle}[slash]{%
  \ifcsdef{blx@ox@issuestyle@#1}{%
    \csuse{blx@ox@issuestyle@#1}%
  }{%
    \PackageError{biblatex}
      {Invalid option 'issuestyle=#1'}
      {Valid values are 'slash', 'colon', 'comma', 'parens'}%
  }%
}
\csdef{blx@ox@issuestyle@slash}{%
  \renewbibmacro*{volume+number+eid}{%
    \printfield{volume}%
    \setunit*{\addslash}%
    \printfield{number}%
    \setunit{\addcomma\space}%
    \printfield{eid}}
}
\csdef{blx@ox@issuestyle@colon}{%
  \renewbibmacro*{volume+number+eid}{%
    \printfield{volume}%
    \setunit*{\addcolon\space}%
    \printfield{number}%
    \setunit{\addcomma\space}%
    \printfield{eid}}
}
\csdef{blx@ox@issuestyle@comma}{%
  \renewbibmacro*{volume+number+eid}{%
    \printfield{volume}%
    \setunit*{\addcomma\space}%
    \printfield{number}%
    \setunit{\addcomma\space}%
    \printfield{eid}}
}
\csdef{blx@ox@issuestyle@parens}{%
  \renewbibmacro*{volume+number+eid}{%
    \printfield{volume}%
    \setunit*{\addspace}%
    \printfield[parens]{number}%
    \setunit{\addcomma\space}%
    \printfield{eid}}
}
\ExecuteBibliographyOptions{issuestyle=slash}
%
% If an issue has no volume or issue numbers (first block), the season
% and date are printed bare. Otherwise (second block) they are printed
% in parentheses just as in the standard version of the macro.
%
\renewbibmacro*{issue+date}{%
  \ifboolexpr{(
    test {\iffieldundef{volume}}
    and
    test {\iffieldundef{number}}
    ) and
    test {\iffieldundef{eid}}
  }{%
    \newunit\printtext{%
      \iffieldundef{issue}{%
        \usebibmacro{date}
      }{%
        \printfield{issue}%
        \setunit*{\addspace}%
        \usebibmacro{date}%
      }%
    }%
  }{%
    \ifboolexpr{
      test {\iffieldundef{issue}}
      and
      test {\iffieldundef{year}}
    }{}{%
      \printtext[parens]{%
        \iffieldundef{issue}{%
          \usebibmacro{date}%
        }{%
          \printfield{issue}%
          \setunit*{\addspace}%
          \usebibmacro{date}%
        }%
      }%
    }%
  }%
  \newunit}
%
% We patch the `article' driver to remove the \enquote{in} macro and
% adjust punctuation after editors and page references.
%
\xpatchbibdriver{article}{%
  \usebibmacro{in:}%
  \usebibmacro{journal+issuetitle}%
}{%
  \usebibmacro{journal+issuetitle}%
}{}{}
\xpatchbibdriver{article}{%
  \usebibmacro{byeditor+others}%
  \newunit
}{%
  \usebibmacro{byeditor+others}%
  \iffieldundef{note}{\newunit}{\setunit{\addsemicolon\addspace}}
}{}{}
\xpatchbibdriver{article}{%
  \usebibmacro{pageref}%
  \newunit\newblock
}{%
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
}{}{}
%
% == Monograph-style entries ==
%
% The titles of books that have been collected into an anthology are
% treated like regular chapters and set in quotes.
%
\DeclareFieldFormat[bookinbook]{citetitle}{\mkbibquote{#1\isdot}}
\DeclareFieldFormat[bookinbook]{title}{\mkbibquote{#1\isdot}}
%
% Volume numbers in monograph-style entries are formatted as roman
% numerals.
%
\DeclareFieldFormat[book,bookinbook,inbook,mvbook,%
collection,incollection,mvcollection,%
proceedings,inproceedings,mvproceedings,%
reference,inreference,mvreference]{volume}{\Rn{#1}}
%
% Where a multi-volume work is more like a series, the volume number and
% main title are put in a bracketted block between the volume title
% and the usual publication block.
%
\newbibmacro*{maintitle+volume}{%
  \ifboolexpr{
    test {\iffieldundef{maintitle}}
    or
    test {\iffieldundef{volume}}
  }{}%
  {\printtext[brackets]{%
    \bibstring{volume}\addspace
    \printfield{volume}\printfield{part}\addspace
    \bibstring{ofseries}\addspace
    \usebibmacro{maintitle}}}
}
%
% Oxford style signifies formal publication by putting the relevant
% details in parentheses.
%
\DeclareFieldFormat{publication}{\mkbibparens{#1}}
%
% Standard 'biblatex' puts a space between series name and number.
% OGS separates them with a comma.
%
\renewbibmacro*{series+number}{%
  \printfield{series}%
  \newunit
  \printfield{number}%
  \newunit}
%
% When citing both the first and a later edition, the first one comes
% first, and the later one comes after a semicolon. As per standard
% 'biblatex', the elements of a single edition are separated by commas
% except that the publisher is preceded by a colon.
%
\newbibmacro*{edition+publisher+location+date}{%
  \printlist{origlocation}%
  \iflistundef{origpublisher}%
  {\setunit*{\addcomma\space}}%
  {\setunit*{\addcolon\space}}%
  \printlist{origpublisher}%
  \setunit*{\addcomma\space}%
  \printorigdate%
  \setunit*{\addsemicolon\space}%
  \printfield{edition}%
  \setunit*{\addcomma\space}%
  \printlist{location}%
  \iflistundef{publisher}%
  {\setunit*{\addcomma\space}}%
  {\setunit*{\addcolon\space}}%
  \printlist{publisher}%
  \setunit*{\addcomma\space}%
  \usebibmacro{date}%
}
%
% Oxford style is to provide publication details –
% series name and number, edition, publisher, location, date –
% in a parenthetical block after the title information.
%
\newbibmacro*{series+number+edition+publisher+location+date}{%
  \nopunct\printtext[publication]{%
    \usebibmacro{series+number}%
    \setunit*{\addsemicolon\addspace}%
    \usebibmacro{edition+publisher+location+date}%
  }%
}
%
% The edition information for reference works is recorded earlier in the
% reference, so we provide a variant that excludes it from the
% publication block.
%
\newbibmacro*{series+number+publisher+location+date}{%
  \nopunct\printtext[publication]{%
    \usebibmacro{series+number}%
    \setunit*{\addsemicolon\addspace}%
    \usebibmacro{publisher+location+date}%
  }%
}
%
% The changes to the `book' driver compared to the standard style are as
% follows:
% \begin{itemize}
%   \item
%   only `author' appears before the title, never `editor'.
%   \item
%   `maintitle' is processed with `volume' just before `series', instead
%   of with `title';
%   \item
%   `edition' is processed where the standard style processes `note',
%   and vice versa;
%   \item
%   `volumes' is omitted;
%   \item
%   `series' to `date' information is delegated to a separate macro;
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{book}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{maintitle+volume}%
  \newunit
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
    {\usebibmacro{related:init}%
     \usebibmacro{related}}
    {}%
  \usebibmacro{finentry}}
%
% Unlike the standard styles, we have a separate driver for `mvbook'
% which behaves slightly differently. It is in fact closer to the
% standard `book' driver. The changes are as follows:
% \begin{itemize}
%   \item
%   only `author' appears before the title, never `editor';
%   \item
%   `edition' is processed where the standard style processes `note';
%   \item
%   the standard `edition'-`volume'/`part'-`volumes' is changed to
%   `volumes'-`volume'/`part'-`note';
%   \item
%   `series' to `date' information is delegated to a separate macro;
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{mvbook}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `inbook' driver modifies the standard one in just the same way as
% our `mvbook' driver modifies the standard `book'.
%
\DeclareBibliographyDriver{inbook}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \usebibmacro{bybookauthor}%
  \newunit\newblock
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `collection' driver modifies the standard one in just the same way
% as our `book' driver.
%
\DeclareBibliographyDriver{collection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{maintitle+volume}%
  \newunit
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `mvcollection' driver modifies the standard `collection' driver
% in just the same way as our `mvbook' driver modifies the standard
% `book'.
%
\DeclareBibliographyDriver{mvcollection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `incollection' driver modifies the standard one in the same way as
% our `mvbook' driver modifies the standard `book'. In addition, the
% `bookeditor' macro precedes `maintitle' instead of `byeditor+others'
% following it.
%
\DeclareBibliographyDriver{incollection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \usebibmacro{bookeditor}%
  \newunit\newblock
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Unlike the standard styles, we provide a separate driver for
% `reference'. It is just like `book' except that `edition' is given
% between `byauthor' and `byeditor+others'.
%
\DeclareBibliographyDriver{reference}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{maintitle+volume}%
  \newunit
  \usebibmacro{series+number+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Similarly, `mvreference' is just like `mvbook' except that `edition'
% is given between `byauthor' and `byeditor+others'.
%
\DeclareBibliographyDriver{mvreference}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{series+number+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `inreference' driver is just like `inbook' except `bookeditor'
% replaces `bybookauthor' and `edition' is given just before
% `byeditor+others'.
%
\DeclareBibliographyDriver{inreference}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \usebibmacro{bookeditor}%
  \newunit\newblock
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{series+number+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% == Proceedings ==
%
% In our version of the `event+venue+date' macro, the venue and date
% are set off with a colon and comma respectively instead of
% parentheses. A bit of jiggery-pokery is used to make the colon italic
% if it follows italic text.
%
\renewbibmacro*{event+venue+date}{%
  \printfield{eventtitle}%
  \newunit
  \printfield{eventtitleaddon}%
  \ifboolexpr{
    test {\iffieldundef{venue}}
    and
    test {\iffieldundef{eventyear}}
  }
  {}
  {\ifboolexpr{
      test {\iffieldundef{language}}
      and
      test {\iffieldundef{eventtitle}}
    }{\setunit{\mkbibemph{\addcolon}\addspace}}%
    {\setunit{\addcolon\addspace}}%
    \printfield{venue}%
    \setunit{\addcomma\space}%
    \printeventdate}%
  \newunit}
%
% The changes to the `proceedings' driver compared to the standard style
% are as follows:
% \begin{itemize}
%   \item
%   `editor' comes after the title, not before;
%   \item
%   the standard `volume'/`part'-`volumes' is changed to
%   `volumes'-`volume'/`part';
%   \item
%   `note' and `organization' are moved to before `series';
%   \item
%   `series' to `date' information is delegated to a separate macro;
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{proceedings}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{event+venue+date}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
  {\printfield{volume}%
    \printfield{part}}
  {}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{series+number+edition+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% Our `inproceedings' driver modifies the standard one in the same way
% as our `proceedings' driver modifies the standard one.
%
\DeclareBibliographyDriver{inproceedings}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{event+venue+date}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
  {\printfield{volume}%
    \printfield{part}}
  {}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{series+number+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% == Grey literature ==
%
% We provide a macro for handling `type+number'. We provide some extra
% logic to insert `No.' before the number if there is no type.
%
\newbibmacro*{series+type+number}{%
  \printfield{series}%
  \newunit
  \ifboolexpr{%
      test {\iffieldundef{type}}
      and
      not test {\iffieldundef{number}}
  }{%
    \bibcpstring{number}
  }{%
    \printfield{type}%
  }%
  \setunit*{\addspace}%
  \printfield{number}}
%
% Our version of the `institution+location+date' macro is just like the
% standard one except it is wrapped in parentheses, and the preceding
% punctuation is therefore suppressed. This is used by the standard
% `thesis' driver, which also works well for us, and the `report' driver.
%
\renewbibmacro*{institution+location+date}{%
  \nopunct\printtext[publication]{%
    \printlist{location}%
    \iflistundef{institution}%
    {\setunit*{\addcomma\space}}%
    {\setunit*{\addcolon\space}}%
    \printlist{institution}%
    \setunit*{\addcomma\space}%
    \usebibmacro{date}%
  }%
}
%
% We provide a more convoluted version that also includes `series',
% `title' and `number', and uses the more common `publisher' in place of
% `institution'. We also include some logic that means `organization'
% is used instead of `publisher' if no `publisher' is provided;
% otherwise it is printed before `location'. This is used by the
% `manual' driver.
%
\newbibmacro*{type+series+number+edition+organization+publisher+location+date}{%
  \nopunct\printtext[publication]{%
    \usebibmacro{series+type+number}%
    \setunit{\addsemicolon\space}%
    \printfield{edition}%
    \setunit*{\addcomma\space}%
    \iflistundef{publisher}%
    {}%
    {\printlist{organization}%
      \setunit*{\addcomma\space}}%
    \printlist{location}%
    \iflistundef{publisher}%
    {\iflistundef{organization}%
      {\setunit*{\addcomma\space}}%
      {\setunit*{\addcolon\space}%
        \printlist{organization}}}%
    {\setunit*{\addcolon\space}
      \printlist{publisher}}%
    \setunit*{\addcomma\space}%
    \usebibmacro{date}%
  }%
}
%
% The changes to the `report' driver compared to the standard style
% are as follows:
% \begin{itemize}
%   \item
%   support is added for `volume', `maintitle' and `series';
%   \item
%   `type' and `number' are moved to just before the publication
%   information block';
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{report}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{version}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{series+type+number}%
  \setunit{\addspace}%
  \usebibmacro{institution+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isrn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% The changes to the `manual' driver compared to the standard style
% are as follows:
% \begin{itemize}
%   \item
%   `type', `series', `number', `edition' and `organization' are moved
%   into the publication information block with `publisher', `location'
%   and `date';
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{manual}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor}%
  \newunit\newblock
  \printfield{type}%
  \newunit
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{type+series+number+edition+organization+publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% == Intrinsically online resources ==
%
% The titles of web pages and similar intrinsically online resources
% are written in roman text within quotes.
%
\DeclareFieldFormat[online]{title}{\mkbibquote{#1\isdot}}
\DeclareFieldFormat[online]{citetitle}{\mkbibquote{#1\isdot}}
%
% The `entrysubtype' field is wrapped in square brackets.
%
\DeclareFieldFormat[online]{entrysubtype}{\mkbibbrackets{#1}}
%
% The changes to the `online' driver compared to the standard style
% are as follows:
% \begin{itemize}
%   \item
%   We support the use of `maintitle' for, say, the title of the wesbite
%   in which the web page is located. This comes after `title'.
%   \item
%   We support the use of `entrysubtype' to specify the nature of the
%   online resource (following the practice of 'biblatex-apa' and
%   others). This comes after `maintitle'.
%   \item
%   The date is wrapped in parentheses if present.
%   \item
%   before `related', there is a full stop instead of a comma.
% \end{itemize}
%
\DeclareBibliographyDriver{online}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \usebibmacro{maintitle}
  \setunit{\addspace}\newblock
  \printfield{entrysubtype}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \setunit{\addspace}\newblock
  \iffieldundef{year}{}{%
    \printtext[parens]{\usebibmacro{date}}%
  }%
  \newunit\newblock
  \iftoggle{bbx:eprint}
  {\usebibmacro{eprint}}
  {}%
  \newunit\newblock
  \usebibmacro{url+urldate}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}
%
% == Audiovisual resources ==
%
% The publication block for audiovisual resources is quite different
% from the normal, as the `type', `series' and `number' come
% between the `publisher' and `date'. We do not use `location'.
% Specification of the medium goes at the start, which we implement
% using the `howpublished' field.
%
\newbibmacro*{publisher+type+series+number+date}{%
  \nopunct\printtext[publication]{%
    \printfield{howpublished}%
    \setunit*{\addcomma\space}%
    \printlist{publisher}%
    \setunit*{\addspace}%
    \printfield{type}%
    \setunit*{\addspace}%
    \printfield{series}%
    \setunit*{\addcomma\space}%
    \printfield{number}%
    \setunit{\addcomma\space}%
    \usebibmacro{date}%
  }%
}
%
% We provide a specialist `audio'/`music' driver. It is currently based
% closely on `book'; it could do with a more thoughtful implementation.
%
\DeclareBibliographyDriver{audio}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{volumes}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
      \printfield{part}}
    {}%
  \newunit
  \printfield{note}%
  \newunit\newblock%
  \usebibmacro{publisher+type+series+number+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
  {\printfield{isbn}}
  {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \setunit{\addperiod\addspace}\newblock
  \iftoggle{bbx:related}
  {\usebibmacro{related:init}%
    \usebibmacro{related}}
  {}%
  \usebibmacro{finentry}}

\DeclareBibliographyAlias{music}{audio}
%
% == Related entries ==
%
% === Reprints ===
%
% We take advantage of the Biber-specific mechanism of relating items
% in order to handle reprints. The presence or otherwise of the
% `journaltitle' field is used to determine whether this is a reprint
% from a book (first block) or a periodical (second block).
%
\renewbibmacro*{related:reprintfrom}[1]{%
  \entrydata*{#1}{\unspace
    \iffieldundef{journaltitle}{%
      \iffieldundef{maintitle}
      {\printfield[title:hook]{booktitle}}
      {\printfield[title:hook]{maintitle}}%
      \newunit\newblock
      \usebibmacro{byeditor+others}%
      \newunit\newblock
      \iffieldundef{volume}{%
      }{%
        \printfield{volume}%
        \printfield{part}%
      }%
      \newunit\newblock
      \printfield{note}%
      \newunit\newblock
      \usebibmacro{series+number+edition+publisher+location+date}%
      \newunit\newblock
      \usebibmacro{chapter+pages}%
    }{%
      \usebibmacro{journal+issuetitle}%
      \newunit
      \usebibmacro{byeditor+others}%
      \iffieldundef{note}{%
        \newunit
      }{%
        \setunit{\addsemicolon\addspace}%
      }%
      \usebibmacro{note+pages}%
    }}}
%
% === Reviews ===
%
% We ensure that the field formatting for `review' entries matches that
% for `article' entries.
%
\DeclareFieldFormat[review]{title}{\mkbibquote{#1\isdot}}
\DeclareFieldFormat[review]{volume}{#1}% volume of a journal
\DeclareFieldFormat[review]{number}{#1}% number of a journal
\DeclareFieldFormat[review]{series}{% series of a journal
  \ifinteger{#1}
  {\mkbibordseries{#1}~\bibstring{jourser}}
  {\ifbibstring{#1}{\bibstring{#1}}{#1}}}
%
% This macro provides a non-Biber method of inserting a formatted
% reference within a review reference. It is deprecated and will
% be removed in a future release.
%
\newbibmacro*{reviewof}{}
\DeclareBibliographyCategory{reviewed}
\DeclareEntryOption{reviewed}{%
  \renewbibmacro*{reviewof}{%
    \bibstring{reviewof}%
    \setunit{\addspace}%
    \fullcite{#1}\printtext{\unspace}% <- hack to ensure punctuation is triggered
  }%
  \addtocategory{reviewed}{#1}%
}
%
% We take advantage of the Biber-specific mechanism of relating items
% in order to handle reviews. The presence or otherwise of the
% `journaltitle' field is used to determine whether this is a review
% of a book (first block) or a periodical (second block).
%
\newbibmacro*{related:reviewof}[1]{%
  \entrydata*{#1}{%
    \iffieldundef{journaltitle}{%
      \usebibmacro{author}%
      \setunit{\labelnamepunct}\newblock
      \usebibmacro{maintitle+title}%
      \newunit
      \printlist{language}%
      \newunit\newblock
      \usebibmacro{byauthor}%
      \newunit\newblock
      \usebibmacro{byeditor+others}%
      \newunit\newblock
      \printfield{volumes}%
      \newunit\newblock
      \iffieldundef{maintitle}{%
        \printfield{volume}%
        \printfield{part}%
      }{}%
      \newunit
      \printfield{note}%
      \newunit\newblock
      \usebibmacro{series+number+edition+publisher+location+date}%
    }{%
      \usebibmacro{author/translator+others}%
      \setunit{\labelnamepunct}\newblock
      \usebibmacro{title}%
      \newunit
      \printlist{language}%
      \newunit\newblock
      \usebibmacro{byauthor}%
      \newunit\newblock
      \usebibmacro{bytranslator+others}%
      \newunit\newblock
      \printfield{version}%
      \newunit\newblock
      \usebibmacro{journal+issuetitle}%
      \newunit
      \usebibmacro{byeditor+others}%
      \iffieldundef{note}%
        {\newunit}%
        {\setunit{\addsemicolon\addspace}}%
      \usebibmacro{note+pages}%
    }%
  }%
}
%
% Since a review is a special kind of journal article, the `review'
% driver is based on the `article' one, the difference being that the
% `related' macro comes just before `journal+issuetitle'. Oxford style
% links the two with \enquote{in}.
%
\DeclareBibliographyDriver{review}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{bytranslator+others}%
  \newunit\newblock
  \printfield{version}%
  \newunit\newblock
  \usebibmacro{reviewof}%
  \newunit\newblock
  \iftoggle{bbx:related}{%
    \usebibmacro{related:init}%
    \usebibmacro{related}%
  }{}%
  \newunit\newblock
  \usebibmacro{in:}%
  \unspace
  \usebibmacro{journal+issuetitle}%
  \newunit
  \usebibmacro{byeditor+others}%
  \iffieldundef{note}%
    {\newunit}%
    {\setunit{\addsemicolon\addspace}}%
  \usebibmacro{note+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{issn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \setunit{\bibpagerefpunct}\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
%
% There is no more.
%
\endinput
\end{writeverbatim}
\closeoutputstream{src}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% OXNOTES BBX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{oxnotes.bbx}{oxnotes}
\addtostream{oxnotes}{\string\ProvidesFile{oxnotes.bbx}}
\addtostream{oxnotes}{\space\space\space\space[\Version\space Footnote-based biblatex style inspired by the Oxford Guide to Style]}
\begin{writeverbatim}{oxnotes}
%
% First we load the common oxref features.
%
\RequireBibliographyStyle{oxref}
%
% To make it easier for authors to switch between name formats, we
% provide a layer of indirection. The default is to have names at the
% start of a bibliography entry in small capitals. Authors can switch
% this off with |\DeclareNameAlias{oxrefstartname}{lcstartname}|.
%
\DeclareNameAlias{oxrefstartname}{scstartname}
\DeclareNameAlias{author}{oxrefstartname}
\DeclareNameAlias[book]{editor}{oxrefstartname}
\DeclareNameAlias[booklet]{editor}{oxrefstartname}
\DeclareNameAlias[collection]{editor}{oxrefstartname}
\DeclareNameAlias[manual]{editor}{oxrefstartname}
\DeclareNameAlias[misc]{editor}{oxrefstartname}
\DeclareNameAlias[mvbook]{editor}{oxrefstartname}
\DeclareNameAlias[mvcollection]{editor}{oxrefstartname}
\DeclareNameAlias[mvproceedings]{editor}{oxrefstartname}
\DeclareNameAlias[mvreference]{editor}{oxrefstartname}
\DeclareNameAlias[online]{editor}{oxrefstartname}
\DeclareNameAlias[proceedings]{editor}{oxrefstartname}
\DeclareNameAlias[reference]{editor}{oxrefstartname}
%
% If specifying a page within a range in the course of a citation note,
% Oxford style is to format that as \enquote{\emph{range} at
% \emph{page}}.
%
\DeclareFieldFormat{postnote}{%
  \iffieldundef{pages}%
    {}%
    {\addspace\bibstring{at}\addspace}%
  \mkcomprange{#1}}
%
% The idea here is that if a postnote is provided but the entry does not
% include a page range, we print the normal delimiter and the postnote;
% If there is a page range, we replace the intervening punctuation with
% \enquote{at}.
%
\renewbibmacro*{postnote}{%
  \iffieldundef{postnote}
  {}
  {\iffieldundef{pages}
    {\printtext{\unspace}\setunit{\postnotedelim}\newblock\printfield{postnote}}
    {\printfield{postnote}}%
  }}
%
% There is no more.
%
\endinput
\end{writeverbatim}
\closeoutputstream{oxnotes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% OXYEAR BBX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{oxyear.bbx}{oxyear}
\addtostream{oxyear}{\string\ProvidesFile{oxyear.bbx}}
\addtostream{oxyear}{\space\space\space\space[\Version\space Author-year biblatex style inspired by the Oxford Guide to Style]}
\begin{writeverbatim}{oxyear}
%
% == Preliminaries ==
%
% First we load the common oxref features.
%
\RequireBibliographyStyle{oxref}
%
% Here we set some defaults different to the standard ones. The author
% can still override them.
%
\ExecuteBibliographyOptions{uniquename=init,firstinits,labeldate,sorting=nyt,pagetracker}
%
% == Date merging option ==
%
% We provide the `mergedate' option from the `authoryear' style, though
% the OGS and NHR consistently use the compact option.
%
\DeclareBibliographyOption{mergedate}[true]{%
  \ifcsdef{bbx@opt@mergedate@#1}
    {\csuse{bbx@opt@mergedate@#1}}
    {\PackageError{biblatex}
       {Invalid option 'mergedate=#1'}
       {Valid values are 'maximum', 'compact', 'basic', 'minimum',\MessageBreak
        'true' (=compact), and 'false'.}}}
%
% The various values affect the definition of the following macro.
%
\providebibmacro*{date+extrayear}{}
%
% Here we provide the various possible definitions.
%
% \begin{itemize}
%   \item `true' is the same as `compact' (see below).
% \end{itemize}
%
\def\bbx@opt@mergedate@true{\bbx@opt@mergedate@compact}
%
% \begin{itemize}
%   \item `maximum' merges date/issue with date label.
% \end{itemize}
%
\def\bbx@opt@mergedate@maximum{%
  \renewbibmacro*{date+extrayear}{%
    \iffieldundef{\thefield{datelabelsource}year}
      {}
      {\printtext[parens]{%
         \printfield{issue}%
         \setunit*{\addspace}%
         \iffieldsequal{year}{\thefield{datelabelsource}year}
           {\printdateextralabel}%
           {\printfield{labelyear}%
            \printfield{extrayear}}}}}%
  \renewbibmacro*{date}{}%
  \renewbibmacro*{issue+date}{}}
%
% \begin{itemize}
%   \item `compact' merges date with date label.
% \end{itemize}
%
\def\bbx@opt@mergedate@compact{%
  \renewbibmacro*{date+extrayear}{%
    \iffieldundef{\thefield{datelabelsource}year}
      {}
      {\printtext[parens]{%
         \iffieldsequal{year}{\thefield{datelabelsource}year}
           {\printdateextralabel}%
           {\printfield{labelyear}%
            \printfield{extrayear}}}}}%
  \renewbibmacro*{date}{}%
  \renewbibmacro*{issue+date}{%
    \iffieldundef{issue}
      {}
      {\printtext[parens]{\printfield{issue}}}%
    \newunit}}
%
% \begin{itemize}
%   \item `basic' merges year-only date with date label.
% \end{itemize}
%
\def\bbx@opt@mergedate@basic{%
  \renewbibmacro*{date+extrayear}{%
    \iffieldundef{\thefield{datelabelsource}year}
      {}
      {\printtext[parens]{%
         \printfield{\thefield{datelabelsource}year}%
         \printfield{extrayear}}}}%
  \renewbibmacro*{date}{%
    \iffieldundef{month}
      {}
      {\printdate}}%
  \renewbibmacro*{issue+date}{%
    \ifboolexpr{
      test {\iffieldundef{issue}}
      and
      test {\iffieldundef{month}}
    }
      {}
      {\printtext[parens]{%
         \printfield{issue}%
         \setunit*{\addspace}%
         \printdate}}%
    \newunit}}
%
% \begin{itemize}
%   \item `minimum' merges year-only date with year-only date label.
% \end{itemize}
%
\def\bbx@opt@mergedate@minimum{%
  \renewbibmacro*{date+extrayear}{%
    \iffieldundef{\thefield{datelabelsource}year}
      {}
      {\printtext[parens]{%
         \printfield{\thefield{datelabelsource}year}%
         \printfield{extrayear}}}}%
  \renewbibmacro*{date}{%
    \ifboolexpr{
      test {\iffieldundef{month}}
      and
      test {\iffieldundef{extrayear}}
    }
      {}
      {\printdate}}%
  \renewbibmacro*{issue+date}{%
    \ifboolexpr{
      test {\iffieldundef{issue}}
      and
      test {\iffieldundef{month}}
      and
      test {\iffieldundef{extrayear}}
    }
      {}
      {\printtext[parens]{%
         \printfield{issue}%
         \setunit*{\addspace}%
         \printdate}}%
    \newunit}}
%
% \begin{itemize}
%   \item `false' suppresses any merging).
% \end{itemize}
%
\def\bbx@opt@mergedate@false{%
  \renewbibmacro*{date+extrayear}{%
    \iffieldundef{\thefield{datelabelsource}year}
      {}
      {\printtext[parens]{%
         \printfield{\thefield{datelabelsource}year}%
         \printfield{extrayear}}}}%
  \renewbibmacro*{date}{\printdate}%
  \renewbibmacro*{issue+date}{%
    \printtext[parens]{%
      \printfield{issue}%
      \setunit*{\addspace}%
      \printdate}%
    \newunit}}
%
% We set the default to be `true'/`compact'.
%
\ExecuteBibliographyOptions{mergedate}
%
% == Bibliography formatting ==
%
% We let 'biblatex' measure shorthands so we can use
% |\shorthandwidth| later.
%
\DeclareFieldFormat{shorthandwidth}{#1}
%
% Names at the head of the reference are last-first, but names elsewhere
% are first-last.
%
\DeclareNameAlias{sortname}{last-first}
\DeclareNameAlias{author}{last-first}
\DeclareNameAlias{editor}{last-first}
\DeclareNameAlias{translator}{last-first}
%
% The bibliography formatting is just like `authoryear' except we do not
% eliminate item separation by default.
%
\defbibenvironment{bibliography}
  {\list
     {}
     {\setlength{\leftmargin}{\bibhang}%
      \setlength{\itemindent}{-\leftmargin}%
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}}}
  {\endlist}
  {\item}
%
% The shorthand formatting is just like `authoryear'.
%
\defbibenvironment{shorthand}
  {\list
     {\printfield[shorthandwidth]{shorthand}}
     {\setlength{\labelwidth}{\shorthandwidth}%
      \setlength{\leftmargin}{\labelwidth}%
      \setlength{\labelsep}{\biblabelsep}%
      \addtolength{\leftmargin}{\labelsep}%
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}%
      \renewcommand*{\makelabel}[1]{##1\hss}}}
  {\endlist}
  {\item}
%
% == Name and date formatting ==
%
% We set up hashing just as in `authoryear'.
%
\InitializeBibliographyStyle{\global\undef\bbx@lasthash}
%
% We ensure related entries do not interfere with the hashing.
%
\renewbibmacro*{begrelated}{%
  \booltrue{bbx@inset}}
\renewbibmacro*{endrelated}{%
  \usebibmacro*{bbx:savehash}}
%
% We patch the `author' macro so that the date label information appears
% at the end (as in `authoryear').
%
\xpatchbibmacro{author}{%
  \global\undef\bbx@lasthash
}{%
  \global\undef\bbx@lasthash
  \usebibmacro{labeltitle}%
  \setunit*{\addspace}%
}{}{}%
\xapptobibmacro{author}{%
  \usebibmacro{date+extrayear}%
}{}{}%
%
% We apply the same patches to `bbx:editor', but also move the editor
% string to after the date label.
%
\xpatchbibmacro{bbx:editor}{%
  \usebibmacro{#1}%
}{%
  \usebibmacro{date+extrayear}%
  \setunit*{\addspace}%
  \usebibmacro{#1}%  
}{}{}%
\xpatchbibmacro{bbx:editor}{%
  \global\undef\bbx@lasthash
}{%
  \global\undef\bbx@lasthash
  \usebibmacro{labeltitle}%
  \setunit*{\addspace}%
}{}{}%
%
% We apply the same patches to `bbx:translator' as we do for
% `bbx:editor'.
%
\xpatchbibmacro{bbx:translator}{%
  \global\undef\bbx@lasthash
}{%
\global\undef\bbx@lasthash
\usebibmacro{labeltitle}%
\setunit*{\addspace}%
}{}{}%
\xpatchbibmacro{bbx:translator}{%
  \usebibmacro{#1}%
}{}{}{}%
\xapptobibmacro{bbx:translator}{%
  \usebibmacro{date+extrayear}%
  \setunit*{\addspace}%
  \usebibmacro{#1}%
}{}{}%
%
% The `labeltitle' macro is exactly the same as the one from
% `authoryear'.
%
\newbibmacro*{labeltitle}{%
  \iffieldundef{label}
    {\iffieldundef{shorttitle}
       {\printfield{title}%
        \clearfield{title}}
       {\printfield[title]{shorttitle}}}
    {\printfield{label}}}
%
% There is no more.
%
\endinput
\end{writeverbatim}
\closeoutputstream{oxyear}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% BRITISH-OXREF LBX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{british-oxref.lbx}{src}
\begin{writeverbatim}{src}
\ProvidesFile{british-oxref.lbx}
\end{writeverbatim}
\addtostream{src}{\space\space\space\space[\Version\space British English conventions required by the biblatex-oxref styles]}
\begin{writeverbatim}{src}

\InheritBibliographyExtras{british}
\DeclareBibliographyExtras{%
  \protected\def\mkbibdatelong#1#2#3{%
    \iffieldundef{#3}
      {}
      {\stripzeros{\thefield{#3}}%
       \iffieldundef{#2}{}{\nobreakspace}}%
    \iffieldundef{#2}
      {}
      {\mkbibmonth{\thefield{#2}}%
       \iffieldundef{#1}{}{\space}}%
    \stripzeros{\thefield{#1}}}%
  \def\finalandcomma{\addcomma}%
}
\DeclareBibliographyStrings{%
  inherit          = {british},
  % Peculiar to Oxref
  at               = {{at}{at}},
  under            = {{s.v.}{s.v.}},
  facsimile        = {{facsimile edition}{facs\adddotspace edn\adddot}},
  revised          = {{revised edition}{rev\adddotspace edn\adddot}},
  reviewof         = {{review of}{review of}},
  byperformer      = {{}{}},
  bydirector       = {{directed by}{dir\adddot}},
  byreader         = {{read by}{read by}},
  % Standard (NB. Oxford style is more sparing with 'by')
  introduction     = {{introduction}{introduction}},
  withintroduction = {{with an introduction by}{with an introduction by}},
  byeditor         = {{edited by}{ed\adddot}},
  bycompiler       = {{compiled by}{comp\adddot}},
  byredactor       = {{redacted by}{red\adddot}},
  byfounder        = {{founded by}{found\adddot}},
  bycontinuator    = {{continued by}{cont\adddot}},
  bycollaborator   = {{in collaboration with}{in collab\adddotspace with}}, % FIXME: unsure
  bytranslator     = {{translated \lbx@lfromlang\ by}{trans\adddot\ \lbx@sfromlang}},
  bycommentator    = {{commented by}{comm\adddot}},
  byannotator      = {{annotated by}{annot\adddot}},
  withcommentator  = {{with a commentary by}{with a commentary by}},
  withannotator    = {{with annotations by}{with annotations by}},
  withintroduction = {{with an introduction by}{with an introduction by}},
  withforeword     = {{with a foreword by}{with a foreword by}},
  withafterword    = {{with an afterword by}{with an afterword by}},
  byeditortr       = {{edited and translated \lbx@lfromlang\ by}%
                      {ed\adddotspace and trans\adddot\ \lbx@sfromlang}},
  byeditorco       = {{edited and commented by}%
                      {ed\adddotspace and comm\adddot}},
  byeditoran       = {{edited and annotated by}%
                      {ed\adddotspace and annot\adddot}},
  byeditorin       = {{edited, with an introduction, by}%
                      {ed.\adddotspace with introduction}},
  byeditorfo       = {{edited, with a foreword, by}%
                      {ed.\adddotspace with foreword}},
  byeditoraf       = {{edited, with an afterword, by}%
                      {ed.\adddotspace with afterword}},
  byeditortrco     = {{edited, translated \lbx@lfromlang\finalandcomma\ and commented by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and comm\adddot}},
  byeditortran     = {{edited, translated \lbx@lfromlang\finalandcomma\ and annotated by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and annot\adddot}},
  byeditortrin     = {{edited and translated \lbx@lfromlang, with an introduction, by}%
                      {ed\adddotspace and trans\adddot\ \lbx@sfromlang\ with introduction}},
  byeditortrfo     = {{edited and translated \lbx@lfromlang, with a foreword, by}%
                      {ed\adddotspace and trans\adddot\ \lbx@sfromlang\ with foreword}},
  byeditortraf     = {{edited and translated \lbx@lfromlang, with an afterword, by}%
                      {ed\adddotspace and trans\adddot\ \lbx@sfromlang\ with afterword}},
  byeditorcoin     = {{edited and commented, with an introduction, by}%
                      {ed\adddotspace and comm\adddotspace with introduction}},
  byeditorcofo     = {{edited and commented, with a foreword, by}%
                      {ed\adddotspace and comm\adddotspace with foreword}},
  byeditorcoaf     = {{edited and commented, with an afterword, by}%
                      {ed\adddotspace and comm\adddotspace with afterword}},
  byeditoranin     = {{edited and annotated, with an introduction, by}%
                      {ed\adddotspace and annot\adddotspace with introduction}},
  byeditoranfo     = {{edited and annotated, with a foreword, by}%
                      {ed\adddotspace and annot\adddotspace with foreword}},
  byeditoranaf     = {{edited and annotated, with an afterword, by}%
                      {ed\adddotspace and annot\adddotspace with afterword}},
  byeditortrcoin   = {{edited, translated \lbx@lfromlang\finalandcomma\ and commented, with an introduction, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and comm\adddotspace with introduction}},
  byeditortrcofo   = {{edited, translated \lbx@lfromlang\finalandcomma\ and commented, with a foreword, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and comm\adddotspace with foreword}},
  byeditortrcoaf   = {{edited, translated \lbx@lfromlang\finalandcomma\ and commented, with an afterword, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and comm\adddotspace with afterword}},
  byeditortranin   = {{edited, translated \lbx@lfromlang\finalandcomma\ and annotated, with an introduction, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and annot\adddotspace with introduction}},
  byeditortranfo   = {{edited, translated \lbx@lfromlang\finalandcomma\ and annotated, with a foreword, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and annot\adddotspace with foreword}},
  byeditortranaf   = {{edited, translated \lbx@lfromlang\finalandcomma\ and annotated, with an afterword, by}%
                      {ed.,\addabbrvspace trans\adddot\ \lbx@sfromlang\finalandcomma\ and annot\adddotspace with afterword}},
  bytranslatorco   = {{translated \lbx@lfromlang\ and commented by}%
                      {trans\adddot\ \lbx@sfromlang\ and comm\adddot\ by}},
  bytranslatoran   = {{translated \lbx@lfromlang\ and annotated by}%
                      {trans\adddot\ \lbx@sfromlang\ and annot\adddot\ by}},
  bytranslatorin   = {{translated \lbx@lfromlang, with an introduction, by}%
                      {trans\adddot\ \lbx@sfromlang\ with introduction}},
  bytranslatorfo   = {{translated \lbx@lfromlang, with a foreword, by}%
                      {trans\adddot\ \lbx@sfromlang\ with foreword}},
  bytranslatoraf   = {{translated \lbx@lfromlang, with an afterword, by}%
                      {trans\adddot\ \lbx@sfromlang\ with afterword}},
  bytranslatorcoin = {{translated \lbx@lfromlang\ and commented, with an introduction, by}%
                      {trans\adddot\ \lbx@sfromlang\ and comm\adddotspace with introduction}},
  bytranslatorcofo = {{translated \lbx@lfromlang\ and commented, with a foreword, by}%
                      {trans\adddot\ \lbx@sfromlang\ and comm\adddotspace with foreword}},
  bytranslatorcoaf = {{translated \lbx@lfromlang\ and commented, with an afterword, by}%
                      {trans\adddot\ \lbx@sfromlang\ and comm\adddotspace with afterword}},
  bytranslatoranin = {{translated \lbx@lfromlang\ and annotated, with an introduction, by}%
                      {trans\adddot\ \lbx@sfromlang\ and annot\adddotspace with introduction}},
  bytranslatoranfo = {{translated \lbx@lfromlang\ and annotated, with a foreword, by}%
                      {trans\adddot\ \lbx@sfromlang\ and annot\adddotspace with foreword}},
  bytranslatoranaf = {{translated \lbx@lfromlang\ and annotated, with an afterword, by}%
                      {trans\adddot\ \lbx@sfromlang\ and annot\adddotspace with afterword}},
  idem             = {{idem}{id\adddot}},
  idemsm           = {{idem}{id\adddot}},
  idemsf           = {{eadem}{ead\adddot}},
  idemsn           = {{idem}{id\adddot}},
  idempm           = {{eidem}{eid\adddot}},
  idempf           = {{eaedem}{eaed\adddot}},
  idempn           = {{eadem}{ead\adddot}},
  idempp           = {{eidem}{eid\adddot}},
  newseries        = {{new series}{\mkbibacro{NS}}},
  oldseries        = {{old series}{\mkbibacro{OS}}},
  edition          = {{edition}{edn\adddot}},
  reprint          = {{reprint\nopunct}{repr\adddot\nopunct}},
  reviewof         = {{review of}{review of}},
  reprintfrom      = {{from}{from}},
  urlseen          = {{accessed}{accessed}},
}
%
% There is no more.
%
\endinput
\end{writeverbatim}
\closeoutputstream{src}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% DOCUMENTATION TOOLS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\openoutputfile{oxref.bib}{src}
\openoutputfile{oxnotes-doc.tex}{oxnotes}
\openoutputfile{oxyear-doc.tex}{oxyear}

\PassOptionsToPackage{bibstyle=oxnotes,citestyle=verbose}{biblatex}
\input{oxref-preamble}

\usepackage{xstring}
% \bibexample adds a sample reference to the documentation.
% #1 = status (ok, hacked, bad)
% #2 = section from which drawn
% #3 = target reference text for oxnotes
% #4 = target reference text for oxyear
% #5 = bib record
% #6 = page reference
\makeatletter
\NewDocumentCommand{\bibexample}{d()d<>vv+vo}{%
  \addtostream{src}{#5}
  \addtostream{src}{}
  \StrBetween*[1,1]{#5}{\@charlb}{,}[\bibkey]
  \ifstrempty{#3}{}{%
    \docbibexample{oxnotes}{#3}{\bibkey}{#5}{%
      \IfValueT{#1}{(#1)}%
      \IfValueT{#2}{<#2>}%
      \IfValueT{#6}{[#6]}%
    }%
  }
  \ifstrempty{#4}{}{%
    \docbibexample{oxyear}{#4}{\bibkey}{#5}{%
      \IfValueT{#1}{(#1)}%
      \IfValueT{#2}{<#2>}%
      \IfValueT{#6}{[#6]}%
    }%
  }
}
\makeatother
% \docbibexample handles the writing of the documentation code.
% #1 = name of stream to which to send code
% #2 = target reference text
% #3 = bib key
% #4 = bib record
% #5 = extra options
\NewDocumentCommand{\docbibexample}{mmmmm}{%
  \addtostream{#1}{}
  \addtostream{#1}{\string\begin{bibexbox}#5{#3}}
  \addtostream{#1}{\space\space #2}
  \addtostream{#1}{\space\space\string\tcblower}
  \addtostream{#1}{\space\space\string\begin{verbatim}}
  \addtostream{#1}{#4\string\end{verbatim}}
  \addtostream{#1}{\string\end{bibexbox}}
}

\NewDocumentCommand{\todoc}{O{oxnotes,oxyear}+v}{%
  \renewcommand{\do}[1]{\addtostream{##1}{#2}}
  \docsvlist{#1}
}

\NewDocumentCommand{\specs}{vv}{%
  \addtostream{oxnotes}{\spec{#1}}%
  \addtostream{oxyear}{\spec{#2}}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% STYLE DOCUMENTATION -- FRONT MATTER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\todoc|\documentclass[extrafontsizes,11pt,a4paper,oneside]{memoir}|

\todoc[oxnotes]|\PassOptionsToPackage{bibstyle=oxnotes,citestyle=verbose}{biblatex}|
\todoc[oxyear]|\PassOptionsToPackage{bibstyle=oxyear,citestyle=authoryear}{biblatex}|

\todoc|\input{oxref-preamble}|

\todoc[oxnotes]|
\title{Oxnotes style for Biblatex}|
\todoc[oxyear]|
\title{Oxyear style for Biblatex}|

\todoc|\author{Alex Ball}

\begin{document}
\thispagestyle{empty}
\begin{adjustwidth}{.2\textwidth}{0pt}
  \sffamily\setlength{\parindent}{0pt}%
  \LARGE\textsc{oxref bundle}
  
  \vspace{\stretch{1}}
  \LARGE\thetitle
  
  \bigskip
  \Large\theauthor
  
  \bigskip
  \Large\ifx\undefined\thedate\today\else\thedate\fi
\end{adjustwidth}

\vspace{\stretch{3}}
\noindent
\hspace*{.1\textwidth}\raisebox{0pt}[0pt][0pt]{\rule{\normalrulethickness}{\textheight}}

\newpage
\tableofcontents*
|

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% STYLE DOCUMENTATION -- SPECIFICATION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\todoc[src]|
@reference{ritter2002ogs,
  author = {R. M. Ritter},
  title = {The {Oxford} Guide to Style},
  date = {2002},
  publisher = {Oxford University Press},
  location = {Oxford, UK}
}

@reference{waddingham2014nhr,
  editor = {Anne Waddingham},
  title = {New {Hart's} Rules},
  subtitle = {The {Oxford} Guide to Style},
  date = {2014},
  edition = {2},
  publisher = {Oxford University Press},
  location = {Oxford, UK}
}
|

\todoc|
\chapter{Introduction}

\section{Loading the style}

\section{How to use this document}

Bibliographical items are given throughout this document, and serve three purposes:

\begin{itemize}
  \item
  To demonstrate which of the variations of style discussed by the
  \emph{Oxford Guide to Style} and \emph{New Hart's Rules} have been chosen
  in this document.
  \item
  To help me, as package author, check that the style is working as intended.
  \item
  To show you, as document author, how to use the style to get the effect you want.
\end{itemize}

Examples that follow standard \textsf{biblatex} semantics, and are therefore
(mostly) portable to other styles, are in green:

\begin{tcolorbox}%
  [bicolor
  ,colframe = ok
  ,colback = ok!5!white
  ,colbacklower = white
  ,fontlower = \footnotesize\ttfamily
  ,overlay = {\node[anchor=south east,text=teal] at (frame.south east) {Source};}
  ]
  \hangfrom{\booksym\space} Reference text as it should look.\par
  \hangfrom{\cogsym\space} Reference text as generated by \textsf{biblatex}.
  \tcblower
  Code used in bibliography file.
\end{tcolorbox}

Examples that have been ‘hacked’ in some way, and are therefore not portable
to other styles, are in amber:

\begin{tcolorbox}%
  [bicolor
  ,colframe = hacked
  ,colback = hacked!5!white
  ,colbacklower = white
  ,fontlower = \footnotesize\ttfamily
  ,overlay = {\node[anchor=south east,text=teal] at (frame.south east) {Source};}
  ]
  \hangfrom{\booksym\space} Reference text as it should look.\par
  \hangfrom{\cogsym\space} Reference text as generated by \textsf{biblatex}.
  \tcblower
  Code used in bibliography file.
\end{tcolorbox}

Where a source is provided, it refers to a section from one of the reference works below:

\begin{description}
\item[OGS]
\fullcite{ritter2002ogs}

\item[NHR]
\fullcite{waddingham2014nhr}
\end{description}

\section{Design philosophy}

The stipulations given by the \emph{Oxford Guide to Style} regarding citations and references
amount not so much to a consistent style as a body of advice for creating one.
Unlike the style manuals published by the American Psychological Association,
the Modern Language Association, and the University of Chicago,
the emphasis of the Oxford guide is to describe good practice rather than prescribe it.
This means that when it comes to \textsf{oxref}, there are decisions to be made
as to which variations to support by default, which to support as options,
and which to quietly ignore.

The situation is complicated further by the nature of the available versions.
The 2002 guide remains the most comprehensive in terms of rules, principles and examples.
The succeeding versions, under the title \emph{New Hart's Rules},
update the aspects of the 2002 guide that now seem somewhat dated,
such as its handling of URLs and DOIs,
and have more of an eye on machine processing of bibliographies.
They do, however, introduce some more variations with less of a steer on what is preferred,
and are considerably shorter with fewer examples.

The approach of \textsf{oxref} is to follow the 2014 \emph{New Hart's Rules} as much as possible,
but where variations are given without strong preference, or where guidance is lacking,
to follow the preferences of the 2002 guide.
Where the practices of the humanities and the sciences are contrasted,
the former are followed for \textsf{oxnotes} and the latter for \textsf{oxyear}.
Where neither version gives explicit guidance on citing a resource supported by \textsf{biblatex},
\textsf{oxref} extrapolates from what is provided, guided by standard \textsf{biblatex}
and other major referencing styles.

Where it is practical to do so,
ways and means of achieving the variations defined by the two guides are provided,
but by no means all of them will be supported.

\section{To do}

The Oxref family of \textsf{biblatex} styles does not yet support the following standard entry types
(or at least, they have not yet been styled appropriately):

\begin{multicols}{2}
  \begin{itemize}\firmlist
    \item booklet
    \item manual
    \item misc
    \item patent
    \item periodical
    \item suppperiodical
  \end{itemize}
\end{multicols}

Support is also planned for the following additional types (starred types are not defined by \textsf{biblatex}):

\begin{multicols}{2}
  \begin{itemize}\firmlist
    \item dataset*
    \item image
    \item letter
    \item manuscript*
    \item play*
    \item poem*
    \item software
    \item standard
    \item video
  \end{itemize}
\end{multicols}

Additional tasks:

\begin{itemize}
  \item Provide options for how journal divisions are rendered.
  \item Provide mechanism for properly rendering pseudepigraphical names.
  \item Provide mechanism for using ‘Anonymous’ as an author name.
  \item Provide option that suppresses the printing of publisher names.
  \item Provide option to render thesis types within publication block.
  \item Provide citation style that matches the \emph{OGS} suggestions for shorthand expressions in notes.
\end{itemize}

\chapter{Books, collections and reference works}\label{sec:book}
\chapterprecis{book, mvbook, collection, mvcollection, reference, mvreference}

\section{Books}

Biblatex defines \code{book} as a monograph, written either by a single author, or by several authors who have joint responsibility for the entire work. An editor in this context has a modest role selecting or annotating the content, and therefore in Oxford style is given after the title even if the author is not given.

\subsection{Basic form}
|

\specs
|Author, \emph{Title} (Location: Publisher, Year).|%
|Author (Year), \emph{Title} (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|George Eliot, \emph{Middlemarch} (New York: W. W. Norton, 1977).|%
||%
|@book{eliot1977m,
  author = {George Eliot},
  title = {Middlemarch},
  location = {New York},
  publisher = {W. W. Norton},
  date = {1977}
}|

\bibexample<OGS \S15.2.2>
|Antonia Tissoni Benvenuti, \emph{L'\emph{Orfeo} del Poliziano} (Padua: Editrice Antenore, 1986).|%
||%
|@book{benvenuti1986op,
  author = {Antonia Tissoni Benvenuti},
  title = {L'\emph{Orfeo} del Poliziano},
  location = {Padua},
  publisher = {Editrice Antenore},
  date = {1986}
}|

\bibexample<OGS \S15.2.2>
|Roderick O'Conor, \emph{A Sentimental Journal through \enquote{Finnegan's Wake}, with a Map of the Liffey} (Dublin: HCE Press, 1977).|%
||%
|@book{oconor1977sjf,
  author = {Roderick O'Conor},
  title = {A Sentimental Journal through \enquote{Finnegan's Wake}, with a Map of the {Liffey}},
  location = {Dublin},
  publisher = {HCE Press},
  date = {1977}
}|

\bibexample<NHR \S18.5>
||%
|Lyons, J. (1981a), \emph{Language and Linguistics: An Introduction} (Cambridge: Cambridge University Press).|%
|@book{lyons1981lli,
  author = {John Lyons},
  date = {1981},
  title = {Language and Linguistics},
  subtitle = {An Introduction},
  location = {Cambridge},
  publisher = {Cambridge University Press}
}|

\bibexample<NHR \S18.5>
||%
|Lyons, J. (1981b), \emph{Language, Meaning and Context} (London: Fontana Paperbacks).|%
|@book{lyons1981lmc,
  author = {John Lyons},
  date = {1981},
  title = {Language, Meaning and Context},
  location = {London},
  publisher = {Fontana Paperbacks}
}|


\todoc|
\subsection{No publisher}
|

\specs
|Author, \emph{Title} (Location, Year).|%
|Author (Year), \emph{Title} (Location).|

\bibexample<OGS \S15.2.1>
|{[James Balfour]}, \emph{Philosophical Essays} (Edinburgh, 1768).|%
||%
|@book{balfour1768pe,
  author = {James Balfour},
  authortype = {inferred},
  title = {Philosophical Essays},
  location = {Edinburgh},
  date = {1768}
}|

\bibexample<OGS \S15.19.2>
||%
|Smith, T. (1988), \emph{Famine and Gender} (New Haven, Conn.).|%
|@book{smith1988fag,
  author = {Smith, T.},
  title = {Famine and Gender},
  year = {1988},
  location = {New Haven, Conn.}
}|

\todoc|
\subsection{Edited book}
|

\specs
|Author, \emph{Title}, \lit{ed.} Editor(s) (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, \lit{ed.} Editor(s) (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|Pseudo-Boethius, \emph{De disciplina scolarium: Édition critique, introduction et notes}, ed. Olga Weijers (Leiden, 1976).|%
|Pseudo-Boethius (1976), \emph{De disciplina scolarium: Édition critique, introduction et notes}, ed. O.\ Weijers (Leiden).|%
|@book{boethius1976dds,
  author = {Pseudo-Boethius},
  title = {De disciplina scolarium},
  subtitle = {Édition critique, introduction et notes},
  editor = {Olga Weijers},
  location = {Leiden},
  date = {1976}
}|

\specs
|\emph{Title}, \lit{ed.} Editor(s) (Location: Publisher, Year).|%
|\emph{Title} (Year), \lit{ed.} Editor(s) (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|\emph{Distichia Catonis}, ed. Marcus Boas and Henricus Johannes Botschuyver (Amsterdam, 1952).|%
|\emph{Distichia Catonis} (1952), ed. M.\ Boas and H.\ J.\ Botschuyver (Amsterdam).|%
|@book{boas.botschuyver1952dc,
  title = {Distichia Catonis},
  editor = {Marcus Boas and Henricus Johannes Botschuyver},
  location = {Amsterdam},
  date = {1952}
}|

\todoc|
\section{Collections}

Biblatex defines \code{collection} as a book made up of multiple self-contained contributions from distinct authors. There is no overall author: use the regular \code{book} entry type for collections of a single author’s work. The editor in this case has a more active role and therefore comes before the title.
|

\specs
|Editor (\lit{ed.}), \emph{Title} (Location: Publisher, Year).|%
|Editor (Year) (\lit{ed.}), \emph{Title} (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|Rosemary Stewart et al. (eds.), \emph{Managing in Britain} (London, 1994).|%
||%
|@collection{stewart.etal1994mb,
  editor = {Rosemary Stewart and Jean-Louis Barsoux and Alfred Kieser and Hans-Dieter Ganter and Peter Walgenbach},
  title = {Managing in {Britain}},
  location = {London},
  date = {1994}
}|

\bibexample<OGS \S15.19.2>
||%
|Barnes, J., and Griffin, M. T. (1989) (eds.), \emph{Philosophia Togata: Essays on Philosophy and Roman Society} (Oxford).|%
|@collection{barnes.griffin1989pte,
  editor = {Jonathan Barnes and Miriam T. Griffin},
  date = {1989},
  title = {Philosophia Togata},
  subtitle = {Essays on Philosophy and Roman Society},
  location = {Oxford}
}|%

\bibexample<OGS \S15.19.2>
||%
|Hankinson, R. J. (1988) (ed.), \emph{Method, Medicine, and Metaphysics} (Edmonton, Alta.).|%
|@collection{hankinson1988mmm,
  editor = {R. J. Hankinson},
  year = {1988},
  title = {Method, Medicine, and Metaphysics},
  location = {Edmonton, Alta.}
}|

\todoc|
\section{Reference works}

Biblatex uses \code{reference} for encyclopaedias and dictionaries, which are typically made up of many small contributions by distinct authors and compiled by an editorial board whose membership might change between successive editions. From a database perspective, reference works are like collections in that they have no single author (a reference work written by a single author should use the \code{book} entry type instead). Unlike standard Biblatex, though, Oxford style considers the titles of reference works to be more important and memorable than those of the editor, and so lists the title first.
|

\specs
|\emph{Title}, \lit{ed.} Editor(s) (Location: Publisher, Year).|%
|\emph{Title} (Year), \lit{ed.} Editor(s) (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|\emph{Theophrastus of Eresus: Sources for his Life, Writings, Thought, and Influence}, ed. William W. Fortenbaugh et al., 2 vols. (Philosophia Antiqua, 54; Leiden, 1991).|%
||%
|@mvreference{fortenbaugh.etal1991tes,
  title = {{Theophrastus} of {Eresus}},
  subtitle = {Sources for his Life, Writings, Thought, and Influence},
  editor = {William W. Fortenbaugh and Pamela M Huby and Robert W. Sharples and Dimitri Gutas and others},
  volumes = {2},
  series = {Philosophia Antiqua},
  number = {54},
  location = {Leiden},
  date = {1991}
}|

\todoc|
\section{Multi-volume works}

Biblatex provides additional entry types for multi-volume works: \code{mvbook}, \code{mvcollection} and \code{mvreference} respectively. These can be used to cite all the volumes at once, or just one volume from the set.

\subsection{All volumes}

Where all volumes were published consistently, the following form is used:
|

\specs
|Author, \emph{Title}, n \lit{vols.} (Location: Publisher, Year), VolNo. Pages.|%
|Author (Year), \emph{Title}, n \lit{vols.} (Location: Publisher), VolNo. Pages.|

\bibexample<OGS \S15.2.6>
|Edmond Vander Straeten, \emph{La Musique aux Pays-Bas avant le XIX\textsuperscript{e} siècle}, 8 vols. (Brussels, 1867--88), ii. 367--8.|
||%
|@mvbook{straeten1867lmp,
    author = {Edmond {Vander Straeten}},
    title = {La Musique aux Pays-Bas avant le XIX\textsuperscript{e} siècle},
    volumes = {8},
    location = {Brussels},
    date = {1867/1888}
}|[ii.~367--8]

\todoc[oxnotes]|
NB. A more portable way of expressing the above citation would be\\
\lstinline!\fullcite[\nopp ii.~\mkcomprange{367--368}]{straeten1867lmp}!.
|

\todoc|
Where the publisher changed between volumes, the following form is used:
|

\specs
|Author, \emph{Title}, VolNo, n \lit{vols.} (Location: Publisher and Location: Publisher, Year–Year).|%
|Author (Year–Year), \emph{Title}, VolNo, n \lit{vols.} (Location: Publisher and Location: Publisher).|

\bibexample(hacked)<OGS \S15.2.6>
|Heinrich Ritter, \emph{The History of Ancient Philosophy}, trans. Alexander J. W. Morrison, 4~vols. (Oxford: Talboys and London: Bohn, 1838--46).|%
||%
|@mvbook{ritter1838hap,
  author = {Heinrich Ritter},
  title = {The History of Ancient Philosophy},
  translator = {Alexander J. W. Morrison},
  volumes = {4},
  location = {Oxford and London},
  publisher = {Talboys and Bohn},
  date = {1838/1846 #p}
}|

\todoc[oxnotes]|
NB. In the \emph{Oxford Style Manual}, the translator in the above reference is in parentheses,
but as this pattern does not occur in any other it may be an error or stylistic variation.
|

\todoc|
\subsection{One volume from several}

Where the volumes are merely numbered, the following form is used
\aside{Use \code{title} but not \code{maintitle}}:
|

\specs
|Author, \emph{Title}, VolNo (Location: Publisher, Year), Pages.|%
|Author (Year), \emph{Title}, VolNo (Location: Publisher), Pages.|

\bibexample<OGS \S15.2.6>
|Edmond Vander Straeten, \emph{La Musique aux Pays-Bas avant le XIX\textsuperscript{e} siècle}, ii (Brussels, 1867--88), 367--8.|%
||%
|@mvbook{straeten1867lmp.ii,
  author = {Edmond {Vander Straeten}},
  title = {La Musique aux Pays-Bas avant le XIX\textsuperscript{e} siècle},
  volume = {2},
  location = {Brussels},
  date = {1867/1888}
}|[367-368]

\bibexample<OGS \S15.19.2>
||%
|Annas, J. (1983) (ed.), \emph{Oxford Studies in Ancient Philosophy}, i (Oxford).|%
|@mvcollection{annas1983osa,
  editor = {Annas, Julia},
  date = {1983},
  title = {Oxford Studies in Ancient Philosophy},
  volume = {1},
  location = {Oxford}
}|

\todoc|
Where the volumes each have their own (sub)title,
and they were all published at once (more or less),
the following form is used \aside{Use both \code{title} and \code{maintitle}}:
|

\specs
|Author, \emph{Title}, VolNo: \emph{VolTitle} (Location: Publisher, Year), Pages.|%
|Author (Year), \emph{Title}, VolNo: \emph{VolTitle} (Location: Publisher), Pages.|

\bibexample<OGS \S15.2.2>
|Thomas A. Brady, Jr., Heiko A. Oberman, and James D. Tracy (eds.), \emph{Handbook of European History, 1400–1600: Late Middle Ages, Renaissance and Reformation}, i: \emph{Structures and Assertions} (Leiden: E. J. Brill, 1994).|%
||%
|@mvcollection{brady.etal1994hehsa,
  editor = {Brady, Jr., Thomas A. and Heiko A. Oberman and James D. Tracy},
  maintitle = {Handbook of European History, 1400–1600},
  mainsubtitle = {{Late} {Middle} {Ages,} {Renaissance} and {Reformation}},
  volume = {1},
  title = {Structures and Assertions},
  location = {Leiden},
  publisher = {E. J. Brill},
  date = {1994}
}|

\bibexample<OGS \S15.2.6>
|A. W. Ward and A. E. Waller (eds.), \emph{The Cambridge History of English Literature}, xii: \emph{The Nineteenth Century} (Cambridge: CUP, 1932), 42--56.|%
||%
|@mvcollection{ward.waller1932che,
  editor = {A. W. Ward and A. E. Waller},
  maintitle = {The Cambridge History of English Literature},
  volume = {12},
  title = {The Nineteenth Century},
  location = {Cambridge},
  publisher = {CUP},
  date = {1932}
}|[42-56]

\todoc|
Where the volumes each have their own (sub)title,
and there are many volumes spanning years and possibly publishers,
the following form is used \aside{Use \code{book} instead of \code{mvbook}.}:
|

\specs
|Author, \emph{VolTitle}, (\lit{vol.} VolNo \lit{of} Title) (Location: Publisher, Year), Pages.|%
|Author (Year), \emph{VolTitle}, (\lit{vol.} VolNo \lit{of} Title) (Location: Publisher), Pages.|

\bibexample<NHR \S18.2.7>
|David Hackett Fischer, \emph{Albion’s Seed: Four British Folkways in America}, [vol.\ i of \emph{America: A Cultural History}] (New York: Oxford University Press, 1989).|%
||%
|@book{fischer1989asf,
  author = {David Hackett Fischer},
  title = {Albion’s Seed},
  subtitle = {Four British Folkways in America},
  volume = {1},
  maintitle = {America},
  mainsubtitle = {A Cultural History},
  location = {New York},
  publisher = {Oxford University Press},
  date = {1989}
}|

\todoc|
\section{Common variations}

\subsection{Additions and translations}

Where works have significant introductions, forewords, afterwords, illustrations, etc.\ this may be noted as follows:
|

\specs
|Author, \emph{Title}, \lit{with an} Addition \lit{by} Contributor (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, \lit{with an} Addition \lit{by} Contributor (Location: Publisher).|

\bibexample<OGS \S15.2.1>
|Mark Twain, \emph{A Connecticut Yankee at King Arthur's Court}, with an introduction by Justin Kaplan (Harmondsworth: Penguin, 1971).|%
||%
|@book{twain1971cyk,
  author = {Mark Twain},
  title = {A {Connecticut} Yankee at {King} {Arthur's} Court},
  introduction = {Justin Kaplan},
  location = {Harmondsworth},
  publisher = {Penguin},
  date = {1971}
}|

\todoc|
Translators are credited as follows:
|

\specs
|Author, \emph{Title}, \lit{trans.} Translator(s) (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, \lit{trans.} Translator(s) (Location: Publisher).|

\bibexample<OGS \S15.2.15>
|Bernhard Bischoff, \emph{Latin Palaeography: Antiquity and the Middle Ages}, trans. Dáibhi Ó Cróinín and David Ganz (Cambridge, 1990).|%
||%
|@book{bischoff1990lpa,
  author = {Bernhard Bischoff},
  title = {Latin Palaeography},
  subtitle = {Antiquity and the Middle Ages},
  translator = {Dáibhi Ó Cróinín and David Ganz},
  location = {Cambridge},
  date = {1990}
}|

\bibexample<OGS \S15.19.2>
||%
|Marx, K. (1867), \emph{Capital: A Critique of Political Economy}, i, trans. B. Fowkes (New York, 1977).|%
|@mvbook{marx1867ccp,
  author = {K. Marx},
  origdate = {1867},
  title = {Capital},
  subtitle = {A Critique of Political Economy},
  volume = {1},
  translator = {B. Fowkes},
  location = {New York},
  year = {1977}
}|

\specs
|Author, \emph{Title}, \lit{trans.\ with} Addition Translator(s) (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, \lit{trans.\ with} Addition Translator(s) (Location: Publisher).|

\bibexample<OGS \S15.2.15>
|Joanat Martorell, \emph{Tirant lo Blanc}, trans. with foreword David H. Rosenthal (London, 1984).|%
||%
|@book{martorell1984tlb,
  author = {Joanat Martorell},
  title = {Tirant lo Blanc},
  translator = {David H. Rosenthal},
  foreword = {David H. Rosenthal},
  location = {London},
  date = {1984}
}|

\todoc|
\subsection{Revision}

Where a work has been lightly revised, the following form is used:
|

\specs
|Author, \emph{Title}, \lit{rev.} Reviser(s) (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, \lit{rev.} Reviser(s) (Location: Publisher).|%

\todoc|
Where a work has been extensively revised, the following form is used:
|

\specs
|Author, \lit{rev.} Reviser, \emph{Title}, (Location: Publisher, Year).|%
|Author (Year), \lit{rev.} Reviser, \emph{Title}, (Location: Publisher).|

\todoc|
\subsection{Later edition}

Where the editor is common to both, the following form is used \aside{Use entry type \code{book}}:
|

\specs
|Author, \emph{Title} (nth \lit{edn.}, Location: Publisher, Year).|%
|Author (Year), \emph{Title} (nth \lit{edn.}, Location: Publisher).|

\bibexample<OGS \S15.2.3>
|J. H. Baker, \emph{An Introduction to English Legal History} (3rd edn., 1990), 419--21.|%
||%
|@book{baker1990iel,
  author = {J. H. Baker},
  title = {An Introduction to {English} Legal History},
  edition = {3},
  date = {1990}
}|[419-421]

\bibexample<NHR \S18.8.5>
|William Beckford, \emph{Vathek} (4th edn., London, 1823) [online facsimile], \url{http://beckford.c18.net/wbvathek1823.html}, accessed 5 Nov. 2013.|%
||%
|@book{beckford1823v,
  author = {William Beckford},
  title = {Vathek},
  edition = {4},
  location = {London},
  date = {1823},
  howpublished = {online facsimile},
  url = {http://beckford.c18.net/wbvathek1823.html},
  urldate = {2013-11-05}
}|

\todoc|
Where the editor has changed, the following form is used \aside{Use entry type \code{reference}}:

\spec{\emph{Title}, nth \lit{edn.}, \lit{ed.} Editor (Location: Publisher, Year).}
|

\bibexample<OGS \S15.2.3>
|\emph{The Oxford Dictionary of Quotations}, 5th edn., ed. Elizabeth Knowles (Oxford, 1999).|%
||%
|@reference{knowles1999odq,
  title = {The {Oxford} Dictionary of Quotations},
  edition = {5},
  editor = {Elizabeth Knowles},
  publisher = {Oxford},
  date = {1999}
}|

\todoc|
\subsection{First and later edition}

Where the publisher is common to both, the following form is used \aside{Use the \code{orig} fields}:
|

\specs
|Author, \emph{Title} (Year; nth \lit{edn.}, Location: Publisher, Year).|%
|Author (Year), \emph{Title} (Year; nth \lit{edn.}, Location: Publisher).|

\bibexample<OGS \S15.2.3>
|J. D. Denniston, \emph{The Greek Particles} (1934; 2nd edn., Oxford, 1954).|%
||%
|@book{denniston1934gp,
  author = {J. D. Denniston},
  title = {The Greek Particles},
  origdate = {1934},
  edition = {2},
  location = {Oxford},
  date = {1954}
}|

\bibexample<OGS \S15.2.1>
|{[John Gibbon]}, \emph{Day-Fatality: Or Some Observations on Days Lucky and Unlucky}, (London, 1678; rev.~edn., 1686).|%
||%
|@book{gibbon1686dfs,
  author = {John Gibbon},
  authortype = {inferred},
  title = {Day-Fatality},
  subtitle = {Or Some Observations on Days Lucky and Unlucky},
  edition = {revised},
  origlocation = {London},
  origdate = {1678},
  date = {1686}
}|
  
\todoc[oxnotes]|
NB. In the \emph{Oxford Style Manual}, there is no comma after ‘rev. edn.’ in the above reference; this may be an error.
|

\todoc|
Used where the publisher has changed, the following form is used \aside{Use \code{pubstate} for the original publication date}:
|

\specs
|Author, \emph{Title} (nth \lit{edn.}, Location: Publisher, Year) (\lit{first pub.} Year).|%
|Author (Year), \emph{Title} (nth \lit{edn.}, Location: Publisher) (\lit{first pub.} Year).|

\bibexample<OGS \S15.2.3>
|Bruno Bettelheim, \emph{The Uses of Enchantment: The Meaning and Importance of Fairy Tales} (Harmondsworth: Penguin Books, 1988) (first pub. 1976).|%
||%
|@book{bettelheim1976uem,
  author = {Bruno Bettelheim},
  title = {The Uses of Enchantment},
  subtitle = {The Meaning and Importance of Fairy Tales},
  location = {Harmondsworth},
  publisher = {Penguin Books},
  date = {1988},
  pubstate = {first pub\adddotspace 1976}
}|
  
\todoc|
\subsection{Reprint}

\aside{Use localization key \code{reprint} as the edition.}
|

\specs
|Author, \emph{Title} (Location: Publisher, Year; \lit{repr.} Location: Publisher, Year).|%
|Author (Year/Year), \emph{Title} (Location: Publisher; \lit{repr.} Location: Publisher).|

\bibexample<OGS \S15.2.4>
|C. Adam and D. Tannery (eds.), \emph{Œuvres de Descartes} (Paris: Cerf, 1897--1913; repr. Paris: J. Vrin, CNRS, 1964--76).|%
||%
|@collection{adam.tannery1897odd,
  editor = {C. Adam and D. Tannery},
  title = {Œuvres de Descartes},
  origlocation = {Paris},
  origpublisher = {Cerf},
  origdate = {1897/1913},
  edition = {reprint},
  location = {Paris},
  publisher = {J. Vrin, CNRS},
  date = {1964/1976}
}|

\todoc|
\aside{Use localization key \code{facsimile} as the edition.}
|

\specs
|Author, \emph{Title} (Location: Publisher, Year; \lit{facs. edn.}, Location: Publisher, Year).|%
|Author (Year/Year), \emph{Title} (Location: Publisher; \lit{facs. edn.}, Location: Publisher).|

\bibexample<OGS \S15.2.4>
|E. Allen, \emph{A Knack to Know a Knave} (London, 1594; facs. edn., Oxford: Malone Society Reprints, 1963).|%
||%
|@book{allen1594kkk,
  author = {E. Allen},
  title = {A Knack to Know a Knave},
  origlocation = {London},
  origdate = {1594},
  edition = {facsimile},
  location = {Oxford},
  publisher = {Malone Society Reprints},
  date = {1963}
}|

\todoc|
\subsection{Multiple publishers}
|

\specs
|Author, \emph{Title} (Location: Publisher, Year; Location: Publisher, Year).|%
|Author (Year/Year), \emph{Title} (Location: Publisher; Location: Publisher).|

\bibexample(hacked)<OGS \S15.2.5>
|L. A. Holford-Strevens, \emph{Aulus Gellius} (London: Duckworth, 1988; Chapel Hill: University of North Carolina Press, 1989).|%
||%
|@book{holfordstrevens1988ag,
  author = {L. A. Holford-Strevens},
  title = {Aulus Gellius},
  origlocation = {London},
  origpublisher = {Duckworth},
  origdate = {1988},
  location = {Chapel Hill},
  publisher = {University of North Carolina Press},
  date = {1989}
}|

\todoc|
\subsection{Work from a series}
|

\specs
|Author, \emph{Title} (Series; Location: Publisher, Year).|%
|Author (Year), \emph{Title} (Series; Location: Publisher).|
\specs
|Author, \emph{Title} (Series, Number; Location: Publisher, Year).|%
|Author (Year), \emph{Title} (Series, Number; Location: Publisher).|

\bibexample<OGS \S15.2.7>
|Johannes de Garlandia, \emph{De mensurabili musica}, ed. Erich Reimer, 2 vols. (Beihefte zum Archiv für Musikwissenschaft, 10--11; Wiesbaden, 1972).|%
||%
|@mvbook{garlandia1972dmm,
  author = {Johannes de Garlandia},
  title = {De mensurabili musica},
  editor = {Erich Reimer},
  volumes = {2},
  series = {Beihefte zum Archiv für Musikwissenschaft},
  number = {10--11},
  publisher = {Wiesbaden},
  date = {1972}
}|

\bibexample<OGS \S15.19.2>
||%
|Barnes, J. (1982), \emph{Aristotle} (Past Masters; Oxford).|%
|@book{barnes1982ari,
  author = {Jonathan Barnes},
  date = {1982},
  title = {Aristotle},
  series = {Past Masters},
  location = {Oxford}
}|

\specs
|Author, \emph{Title} (nth \lit{ser.}, Year).|%
|Author (Year), \emph{Title} (nth \lit{ser.}).|

\todoc|
\section{Pre-publication book}
|

\specs
|Author, \emph{Title} (Location: Publisher, \lit{forthcoming}).|%
|Author (\lit{forthcoming}), \emph{Title} (Location: Publisher).|

\bibexample<OGS \S15.19.2>
||%
|Smith, P. (forthcoming), \emph{Gender and Famine}, 2 vols. (London).|%
|@mvbook{smithFCgaf,
  author = {P. Smith},
  title = {Gender and Famine},
  volumes = {2},
  location = {London},
  pubstate = {forthcoming}
}|

\todoc|
\chapter{Reports}\label{sec:report}
\chapterprecis{report}

Oxford style does not have any special rules for referencing reports. Its provision for books, however, is sufficient for most purposes.

\section{Reports with a personal author}
|

\specs
|Author, \emph{Title} (Location: Institution, Year).|%
|Author (Year), \emph{Title} (Location: Institution).|

\bibexample<OGS \S15.2.13>
|Government of Botswana, \emph{A Human Drought Relief Programme for Botswana} (Gabarone: Ministry of Local Government and Lands, 1980).|%
||%
|@report{botswana1980hdr,
  author = {{Government of Botswana}},
  title = {A Human Drought Relief Programme for Botswana},
  location = {Gabarone},
  institution = {Ministry of Local Government and Lands},
  date = {1980}
}|
  
\todoc|
\section{Reports with a corporate author}

If the report does not specify an author, the institution moves to the author position:
|

\specs
|Author, \emph{Title} (Location, Year).|%
|Author (Year), \emph{Title} (Location).|

\bibexample<OGS \S15.2.13>
|Penal Affairs Consortium, \emph{An Unsuitable Place for Treatment: Diverting Mentally Disordered Offenders from Custody} (London, 1988).|%
||%
|@report{pac1988upt,
  author = {{Penal Affairs Consortium}},
  title = {An Unsuitable Place for Treatment},
  subtitle = {Diverting Mentally Disordered Offenders from Custody},
  location = {London},
  date = {1988}
}|

\bibexample<OGS \S15.9.1>
||%
|WHO (World Health Organization) (1986), \emph{Nutrition and Development in East Africa} (Geneva: WHO)|%
|@report{who1986nde,
  author = {{World Health Organization}},
  shortauthor = {WHO},
  title = {Nutrition and Development in {East Africa}},
  date = {1986},
  location = {Geneva},
  institution = {WHO}
}|

\bibexample(hacked)<NHR \S17.3.2>
||%
|CNNR/GMH (Comisión Nacional de Reparación y Reconciliación y Grupo de Memoria Historica) (2008), \emph{Trujilla: Una Tragedia que no Cesa [Trujilla: A Tragedy Without End]}, (Bogotá, Columbia: CNRR).|%
|@report{cnnr2008tut,
  shortauthor = {CNNR/GMH},
  author = {{Comisión Nacional de Reparación y Reconciliación y Grupo de Memoria Historica}},
  date = {2008},
  title = {Trujilla},
  subtitle = {Una Tragedia que no Cesa},
  origtitle = {{Trujilla:} {A} Tragedy Without End},
  location = {Bogotá, Columbia},
  institution = {CNRR}
}|

\todoc|
\section{Reports with a type or series}
|

\specs
|Author, \emph{Title} (Type, Number; Location: Institution, Year).|%
|Author (Year), \emph{Title} (Type, Number; Location: Institution).|

\bibexample<OGS \S15.19.2>
||%
|Office of Population Censuses and Surveys (1979a), \emph{Area Mortality Tables: The Registrar-General's Decennial Supplement for England and Wales 1969–1973}, Series DS, No.~3 (London)|%
|@report{opcs1979amt,
  author = {{Office of Population Censuses and Surveys}},
  date = {1979},
  title = {Area Mortality Tables},
  subtitle = {The Registrar-General's Decennial Supplement for England and Wales 1969–1973},
  series = {Series DS},
  number = {3},
  location = {London}
}|

\bibexample<OGS \S15.19.2>
||%
|Office of Population Censuses and Surveys (1979b), \emph{Projections of the New Commonwealth and Pakistani Population}, OPCS Monitor PP2 79/1 (London)|%
|@report{opcs1979pnc,
  author = {{Office of Population Censuses and Surveys}},
  date = {1979},
  title = {Projections of the {New Commonwealth} and {Pakistani} Population},
  type = {OPCS Monitor},
  number = {PP2 79/1},
  location = {London}
}|

\bibexample<NHR \S17.3.2>
||%
|Rosenblatt, J., et al. (1988), \emph{The Common Agricultural Policy of the European Community}, International Monetary Fund, occasional paper 62, Nov.|%
|@report{rosenblatt.etal1988cap,
  author = {Julius Rosenblatt and others},
  title = {The {Common Agricultural Policy} of the {European Community}},
  date = {1988-11},
  institution = {International Monetary Fund},
  type = {occasional paper},
  number = {62}
}|%

\todoc|
\section{Report available online}
|

\specs
|Author, \emph{Title} (Location: Institution, Year), URL, \lit{accessed} URLDate.|%
|Author (Year), \emph{Title} (Location: Institution), URL, \lit{accessed} URLDate.|

\bibexample<NHR \S18.8.5>
|UNESCO, \emph{The United Nations World Water Development Report 4}, vol. 1: \emph{Managing Water under Uncertainty and Risk} (Paris: UNESCO, 2012), \url{http://unesdoc.unesco.org/images/0021/002156/215644e.pdf}, accessed 9 Nov. 2013.|%
||%
|@report{unesco2012unw,
  author = {UNESCO},
  maintitle = {The United Nations World Water Development Report 4},
  volume = {1},
  title = {Managing Water under Uncertainty and Risk},
  location = {Paris},
  institution = {UNESCO},
  date = {2012},
  url = {http://unesdoc.unesco.org/images/0021/002156/215644e.pdf},
  urldate = {2013-11-09}
}|

\todoc|
\chapter{Proceedings}\label{sec:proceedings}
\chapterprecis{proceedings, mvproceedings}

\section{Single volume proceedings}

The \code{proceedings} entry type is intended for a set of conference papers that have been collected together into a single volume.
|

\specs
|\emph{Title}, \lit{ed.} Editor (Location: Publisher, Year).|%
|\emph{Title} (Year), \lit{ed.} Editor (Location: Publisher).|

\bibexample<OGS \S15.2.12>
|\emph{Proceedings of the XIV International Congress of Papyrologists: Oxford, 24--31 July 1974} (London, 1975).|%
||%
|@proceedings{icp1975pic,
  title = {Proceedings of the {XIV} {International} {Congress} of {Papyrologists}},
  subtitle = {{Oxford}, 24--31 {July} 1974},
  location = {London},
  date = {1975}
}|

\bibexample<OGS \S15.2.13>
|International Astronomical Union, \emph{Transactions of the International Astronomical Union, Rome}, 12--20 May 1922 (London: Imperial College Bookstall, 1922), 1.52–3.|%
||%
|@proceedings{iau1922tia,
  organization = {International Astronomical Union},
  title = {Transactions of the {International} {Astronomical} {Union}, {Rome}},
  eventdate = {1922-05-12/1922-05-20},
  location = {London},
  publisher = {Imperial College Bookstall},
  date = {1922}
}|[1.52-3]

\todoc|
\textsc{Extension} – Sometimes the title of the proceedings does not relate to the conference; in which case the following form might be used:
|

\specs
|\emph{Title}, EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher, Year).|%
|\emph{Title} (Year), EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher).|

\bibexample
|(not in book)|%
||%
|@proceedings{ecdl2009,
  editor = {Maristella Agosti and José Borbinha and Sarantos Kapidakis and Christos Papatheodorou and Giannis Tsakonas},
  title = {Research and Advanced Technology for Digital Libraries},
  eventtitle = {13th European Conference, ECDL 2009},
  venue = {Corfu, Greece},
  eventdate = {2009-09-27/2009-10-02},
  series = {Lecture Notes in Computer Science},
  number = {5714},
  location = {Berlin},
  publisher = {Springer},
  date = {2009}
}|

\todoc|
\section{Multi-volume proceedings}

\textsc{Extension} – Biblatex provides \code{mvproceedings} for multi-volume proceedings.
The examples here are a combination of Oxford style for proceedings and multi-volume books.

\subsection{All volumes}
|

\specs
|\emph{Title}, EventTitle: Venue, ConfDate, \lit{ed.} Editor, n \lit{vols.} (Series, Number; Location: Publisher, Year).|%
|\emph{Title} (Year), EventTitle: Venue, ConfDate, \lit{ed.} Editor, n \lit{vols.} (Series, Number; Location: Publisher).|

\bibexample
|(not in book)|%
||%
|@proceedings{iced2009,
  title = {Proceedings of the 17th International Conference on Engineering Design (ICED ’09)},
  volumes = {10},
  editor = {Margareta Norell Bergendahl and Martin Grimheden and Larry Leifer},
  venue = {Stanford, CA},
  eventdate = {2009-08-24/2009-08-27},
  location = {Glasgow},
  publisher = {Design Society},
  date = {2009},
  isbn = {978-1-904670-12-4}
}|

\todoc|
\subsection{One volume}
|

\specs
|\emph{Title}, VolNo: \emph{VolTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher, Year).|%
|\emph{Title} (Year), VolNo: \emph{VolTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher).|

\bibexample
|(not in book)|%
||%
|@proceedings{iced2009dik,
  maintitle = {Proceedings of the 17th International Conference on Engineering Design (ICED ’09)},
  title = {Design Information and Knowledge},
  volume = {8},
  editor = {Margareta Norell Bergendahl and Martin Grimheden and Larry Leifer},
  venue = {Stanford, CA},
  eventdate = {2009-08-24/2009-08-27},
  location = {Glasgow},
  publisher = {Design Society},
  date = {2009},
  isbn = {978-1-904670-12-4}
}|

\todoc|
\chapter{Works in books, collections and reference works}\label{sec:inx}
\chapterprecis{inbook, incollection, inreference, bookinbook}

\section{Works in books}

The \code{inbook} entry type is intended for books that consist of several self-contained works by the same author, for citing one of these works. 

\subsection{One from a collection of single author's works}

Express this in the database by setting \code{author} $=$ \code{bookauthor} $\neq$ \code{editor}.
|

\specs
|Author, \enquote{Title}, \lit{in id.}, \emph{BookTitle}, \lit{ed.} Editor(s) (Location: Publisher, Year), Pages.|%
|Author (Year), \enquote{Title}, \lit{in id.}, \emph{BookTitle}, \lit{ed.} Editor(s) (Location: Publisher), Pages.|

\bibexample<OGS \S15.2.11>
|Paul Oskar Kristeller, \enquote{The Aristotelian Tradition}, in id., \emph{Renaissance Thought and Its Sources}, ed. Michael Mooney (New York: Columbia University Press, 1979).|%
||%
|@inbook{kristeller1979thm,
  author = {Paul Oskar Kristeller},
  gender = {sm},
  title = {The Aristotelian Tradition},
  bookauthor = {Paul Oskar Kristeller},
  booktitle = {Renaissance Thought and Its Sources},
  editor = {Michael Mooney},
  location = {New York},
  publisher = {Columbia University Press},
  date = {1979}
}|

\specs
|Author, \enquote{Title}, \lit{in} \emph{BookTitle}, \lit{ed.} Editor(s) (Location: Publisher, Year), Pages.|%
|Author (Year), \enquote{Title}, \lit{in} \emph{BookTitle}, \lit{ed.} Editor(s) (Location: Publisher), Pages.|

\todoc|
\section{Works in collections}

The \code{incollection} entry type is intended for citing one of a collection of self-contained works by different authors.

\subsection{Work in mixed collection}

Express this in the database by setting \code{author} $\neq$ \code{editor}, and omitting the \code{bookauthor}.
|

\specs
|Author, \enquote{Title}, \lit{in} Editors (\lit{eds.}), \emph{BookTitle} (Location: Publisher, Year), Pages.|%
|Author (Year), \enquote{Title}, \lit{in} Editors (\lit{eds.}), \emph{BookTitle} (Location: Publisher), Pages.|

\bibexample<OGS \S15.3>
|John Shearman, \enquote{The Vatican Stanze: Functions and Decoration}, in George Holmes (ed.), \emph{Art and Politics in Renaissance Italy: British Academy Lectures} (Oxford: Clarendon Press, 1993), 185--240.|%
||%
|@incollection{shearman1993vsf,
  author = {John Shearman},
  title = {The Vatican Stanze},
  subtitle = {Functions and Decoration},
  editor = {George Holmes},
  booktitle = {Art and Politics in Renaissance Italy},
  booksubtitle = {British Academy Lectures},
  location = {Oxford},
  publisher = {Clarendon Press},
  date = {1993},
  pages = {185-240}
}|

\bibexample<NHR \S17.3.2>
||%
|Magarey, M. E. (1988), \enquote{Examination of the Cervical and Thoracic Spine}, in R. Grant (ed.), \emph{Physical Therapy of the Cervical and Thoracic Spine} (New York: Churchill Livingstone), 81–109.|%
|@incollection{magarey1988ect,
  author = {M. E. Magarey},
  year = {1988},
  title = {Examination of the Cervical and Thoracic Spine},
  editor = {R. Grant},
  booktitle = {Physical Therapy of the Cervical and Thoracic Spine},
  location = {New York},
  publisher = {Churchill Livingstone},
  pages = {81-109}
}|

\bibexample<NHR \S17.3.2>
||%
|Jessop, B. (1997), \enquote{The Governance of Complexity and Complexity of Governance}, in A. Amin and J. Hausner (eds.), \emph{Beyond Markets and Hierarchy}, (Aldershot: Edward Elgar).|%
|@incollection{jessop1997gcc,
  author = {Bob Jessop},
  date = {1997},
  title = {The Governance of Complexity and Complexity of Governance},
  editor = {Ash Amin and Jerzy Hausner},
  booktitle = {Beyond Markets and Hierarchy},
  location = {Aldershot},
  publisher = {Edward Elgar}
}|

\todoc|
\subsection{Work by the editor in mixed collection}

In Oxford style, the editor's name is replaced with \enquote{id.}\slash \enquote{ead.}\slash \enquote{eid.}\slash \enquote{eaed.} Express this in the database by setting \code{author} $=$ \code{editor}, omitting the \code{bookauthor}, and setting the correct gender.
|

\specs
|Author, \enquote{Title}, \lit{in id.} (\lit{ed.}), \emph{BookTitle} (Location: Publisher, Year), Pages.|%
|Author (Year), \enquote{Title}, \lit{in id.} (\lit{ed.}), \emph{BookTitle} (Location: Publisher), Pages.|

\bibexample<OGS \S15.3>
|W. B. Todd, \enquote{David Hume: A Preliminary Bibliography}, in id. (ed.), \emph{Hume and the Enlightenment: Essays Presented to Ernest Campbell Mossner} (Edinburgh: Edinburgh University Press, 1974).|%
||%
|@incollection{todd1974dhp,
  author = {W. B. Todd},
  gender = {sm},
  title = {David Hume},
  subtitle = {A Preliminary Bibliography},
  editor = {W. B. Todd},
  booktitle = {Hume and the Enlightenment},
  booksubtitle = {Essays Presented to Ernest Campbell Mossner},
  location = {Edinburgh},
  publisher = {Edinburgh University Press},
  date = {1974}
}|

\todoc|
\section{Anthologies of independently published works}

Biblatex provides the \code{bookinbook} entry type for citing a part of an anthology that has previously been published as a book in its own right. Oxford style provides two different mechanisms for this, depending on circumstance.

\subsection{Both versions equally accessible}

If using Biber, put the key of the original work in \code{related}, and in \code{relatedtype} use the keyword \code{reprintfrom}. Otherwise, use \code{addendum} to give \enquote{From} and the reference to the original, but omit \code{author} and \code{title} from the entry for the original work.

\spec{Later Reference. From Earlier Reference.}
|

\bibexample<OGS \S15.3>
|G. E. L. Owen, \enquote{Philosophical Invective}, in id., \emph{Logic, Science and Dialectic}, ed. M. Nussbaum (Ithaca, NY: Cornell University Press, 1986), 347--64. From \emph{Oxford Studies in Ancient Philosophy}, 1 (1983), 1--25.|%
||%
|@bookinbook{owen1986pi,
  author = {G. E. L. Owen},
  gender = {sm},
  title = {Philosophical Invective},
  booktitle = {Logic, Science and Dialectic},
  bookauthor = {G. E. L. Owen},
  editor = {M. Nussbaum},
  location = {Ithaca, NY},
  publisher = {Cornell University Press},
  date = {1986},
  pages = {347-364},
  related = {osap1983},
  relatedtype = {reprintfrom}
}
@periodical{osap1983,
  journaltitle = {Oxford Studies in Ancient Philosophy},
  volume = {1},
  date = {1983},
  pages = {1-25}
}|

\todoc|
\subsection{Later version more accessible}

Use \code{pubstate} to give the date of original publication.
|

\specs
|Author, \emph{Title} (Location: Publisher, Year) (\lit{originally pub.} Year).|%
|Author (Year), \emph{Title} (Location: Publisher) (\lit{originally pub.} Year).|

\bibexample<OGS \S15.3>
|G. Frege, \enquote{On Sense and Reference}, in id., \emph{Philosophical Writings}, trans. and ed. P. T. Geach and M. Black (Oxford: Blackwell, 1952) (originally pub. 1892).|%
||%
|@bookinbook{frege1892osr,
  author = {G. Frege},
  gender = {sm},
  title = {On Sense and Reference},
  bookauthor = {G. Frege},
  booktitle = {Philosophical Writings},
  translator = {P. T. Geach and M. Black},
  editor = {P. T. Geach and M. Black},
  location = {Oxford},
  publisher = {Blackwell},
  date = {1952},
  pubstate = {originally pub\adddotspace 1892}
}|

\todoc|
\chapter{Papers in proceedings}\label{sec:inproceedings}
\chapterprecis{inproceedings}

The \code{inproceedings} entry type is intended for a conference paper published as part of a proceedings volume. For papers that have not been collected into a proceedings volume, or presentation slide sets, use the \code{unpublished} entry type instead.

\section{Published conference paper}
\aside{Extension}
|

\specs
|Author, \enquote{Title}, \lit{in} \emph{BookTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher, Year).|%
|Author (Year), \enquote{Title}, \lit{in} \emph{BookTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor (Series, Number; Location: Publisher).|

\bibexample
||%
||%
|@inproceedings{tonkin.strelnikov2009iem,
  author = {Emma Tonkin and Alexey Strelnikov},
  title = {Information Environment Metadata Schema Registry},
  editor = {Maristella Agosti and José Borbinha and Sarantos Kapidakis and Christos Papatheodorou and Giannis Tsakonas},
  booktitle = {Research and Advanced Technology for Digital Libraries},
  eventtitle = {13th European Conference, ECDL 2009},
  venue = {Corfu, Greece},
  eventdate = {2009-09-27/2009-10-02},
  series = {Lecture Notes in Computer Science},
  number = {5714},
  location = {Berlin},
  publisher = {Springer},
  date = {2009},
  pages = {487-488},
  isbn = {978-3-642-04345-1},
  issn = {0302-9743}
}|

\specs
|Author, \enquote{Title}, \lit{in} \emph{BookTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor, n \lit{vols.} (Series, Number; Location: Publisher, Year), VolNo. Pages.|%
|Author (Year), \enquote{Title}, \lit{in} \emph{BookTitle}, EventTitle: Venue, ConfDate, \lit{ed.} Editor, n \lit{vols.} (Series, Number; Location: Publisher), VolNo. Pages.|

\bibexample
||%
||%
|@inproceedings{ding.etal2009sfc,
  author = {Lian Ding and Alex Ball and Manjula Patel and Jason Matthews and Glen Mullineux},
  title = {Strategies for the Collaborative Use of CAD Product Models},
  maintitle = {Proceedings of the 17th International Conference on Engineering Design (ICED ’09)},
  booktitle = {Design Information and Knowledge},
  volume = {8},
  editor = {Margareta Norell Bergendahl and Martin Grimheden and Larry Leifer},
  venue = {Stanford, CA},
  eventdate = {2009-08-24/2009-08-27},
  location = {Glasgow},
  publisher = {Design Society},
  date = {2009},
  pages = {123-134},
  isbn = {978-1-904670-12-4},
  url = {http://opus.bath.ac.uk/14285}
}|

\todoc|
\section{Published orations, addresses, lectures, and speeches}

Type (of oration), below, is something like \enquote{Inaugural Lecture} or \enquote{Romanes Lecture}.
|

\specs
|Author, \emph{Title}, Type, Venue, Date (Location: Publisher, Year).|%
|Author (Year), \emph{Title}, Type, Venue, Date (Location: Publisher).|

\bibexample<OGS \S15.6>
|E. H. Gombrich, \emph{Art and Scholarship}, Inaugural Lecture, University College London, 14 Feb. 1957 (London: H. K. Lewis, 1957).|%
||%
|@book{gombrich1957as,
  author = {E. H. Gombrich},
  title = {Art and Scholarship},
  note = {Inaugural Lecture, University College London, 14 Feb. 1957},
  location = {London},
  publisher = {H. K. Lewis},
  date = {1957}
}|

\todoc|
\chapter{Articles in periodicals}\label{sec:article}
\chapterprecis{article}

\section{Article in issue with no volume or number}
|

\specs
|Author, \enquote{Title}, \emph{JournalTitle}, Day Month Year, Pages.|%
|Author (Year), \enquote{Title}, \emph{JournalTitle}, Day Month: Pages.|

\bibexample<OGS \S15.3>
|M. Boyce, \enquote{The Parthian \emph{Gsn} and Iranian Minstrel Tradition}, \emph{Journal of the Royal Asiatic Society}, 1957, 10--45.|%
||%
|@article{boyce1957pgi,
  author = {M. Boyce},
  title = {The Parthian \emph{Gsn} and Iranian Minstrel Tradition},
  journaltitle = {Journal of the Royal Asiatic Society},
  date = {1957},
  pages = {10-45}
}|

\bibexample<OGS \S15.4.1>
|Alan Lee, \enquote{England Haunted by Familiar Failings}, \emph{The Times}, 23 June 1995.|%
||%
|@article{lee1995ehf,
  author = {Alan Lee},
  title = {England Haunted by Familiar Failings},
  journaltitle = {The Times},
  date = {1995-06-23}
}|

\bibexample<OGS \S15.4.1>
|\enquote{Who's Excellent Now?}, \emph{Business Week}, 5 Nov. 1984, 76--86.|%
||%
|@article{bw1984wen,
  title = {Who's Excellent Now?},
  journaltitle = {Business Week},
  date = {1984-11-05},
  pages = {76-86}
}|

\bibexample<OGS \S15.19.2>
||%
|WHO (World Health Organization) (1983), \enquote{Nutrition: Sex Bias of Nutritional Status of Children 0–4 Years}, \emph{Weekly Epidemiologial Record}, 20 May.|%
|@article{who1983nsb,
  shortauthor = {WHO},
  author = {{World Health Organization}},
  date = {1983-05-20},
  title = {Nutrition},
  subtitle = {Sex Bias of Nutritional Status of Children 0–4 Years},
  journaltitle = {Weekly Epidemiologial Record}
}|

\bibexample<OGS \S15.19.2>
||%
|Marx, K. (1842), \enquote{Der Kommunismus und die Augsburger \enquote{Allgemeine Zeitung}}, \emph{Rheinische Zeitung}, 16 Oct., 1–2.|%
|@article{marx1842kaa,
  author = {Karl Marx},
  title = {Der Kommunismus und die Augsburger \enquote{Allgemeine Zeitung}},
  journaltitle = {Rheinische Zeitung},
  date = {1842-10-16},
  pages = {1-2}
}|

\todoc[oxyear]|
NB. The above example as it appears in the \emph{Oxford Guide to Style} is both incomplete and wildly inaccurate.
I have completed and corrected it as best I can ascertain.
|

\todoc|
\section{Article in issue with volume/number}
|

\specs
|Author, \enquote{Title}, \emph{JournalTitle}, Vol/Number (Year), Pages.|%
|Author (Year), \enquote{Title}, \emph{JournalTitle}, Vol/Number: Pages.|

\bibexample<OGS \S15.2.1>
|Gerald de Vaucouleurs et al., \enquote{The New Martian Nomenclature of the International Astronomical Union}, \emph{Icarus}, 26 (1975), 85--98.|%
||%
|@article{vaucouleurs1975nmn,
  author = {Gerald de Vaucouleurs and J. Blunck and M. Davies and A. Dollfus and I. Koval and G. Kuiper and H. Masursky and S. Miyamoto and V Moroz and Carl Sagan},
  title = {The New {Martian} Nomenclature of the {International} {Astronomical} {Union}},
  journaltitle = {Icarus},
  volume = {26},
  date = {1975},
  pages = {85-98}
}|

\bibexample<OGS \S15.4.1>
|Halil Inalcik, \enquote{Comments on \enquote{Sultanism}: Max Weber's Typification of the Ottoman Polity}, \emph{Princeton Papers in Near Eastern Studies}, 1 (1992), 49--72.|%
||%
|@article{inalcik1992csm,
  author = {Halil Inalcik},
  title = {Comments on \enquote{Sultanism}},
  subtitle = {Max Weber's Typification of the Ottoman Polity},
  journaltitle = {Princeton Papers in Near Eastern Studies},
  volume = {1},
  date = {1992},
  pages = {49-72}
}|

\bibexample<OGS \S15.4.1>
|Robert Goldblatt, \enquote{Diodorean Modality in Minkowski Space-Time}, \emph{Studia Logica}, 39/3 (1973), 219--36.|%
||%
|@article{goldblatt1973dmm,
  author = {Robert Goldblatt},
  title = {Diodorean Modality in Minkowski Space-Time},
  journaltitle = {Studia Logica},
  volume = {39},
  number = {3},
  date = {1973},
  pages = {219-236}
}|

\bibexample<OGS \S15.19.2>
||%
|Hollingsworth, T. H. (1957), \enquote{A Demographic Study of the British Ducal Families}, \emph{Population Studies}, 11/1: 4–26.|%
|@article{hollingsworth1957dsb,
  author = {T. H. Hollingsworth},
  year = {1957},
  title = {A Demographic Study of the British Ducal Families},
  journaltitle = {Population Studies},
  volume = {11},
  number = {1},
  pages = {4-26}
}|

\bibexample<NHR \S17.3.2>
||%
|Unwin, T. (1994), ‘Structural Change in Estonian Agriculture: From Command Economy to Privatisation’, \emph{Geography}, 79/3: 246–61.|%
|@article{unwin1994sce,
  author = {Unwin, Tim},
  year = {1994},
  title = {Structural Change in Estonian Agriculture},
  subtitle = {From Command Economy to Privatisation},
  journaltitle = {Geography},
  volume = {79},
  number = {3},
  pages = {246-261}
}|

\bibexample<NHR \S18.8.5>
|A. Druin, \enquote{The Role of Children in the Design of New Technology}, \emph{Behaviour \& Information Technology}, 21/1 (2002), 1–25. doi: 10.1080/01449290110108659|%
||%
|@article{druin2002rcd,
  author = {A. Druin},
  title = {The Role of Children in the Design of New Technology},
  journaltitle = {Behaviour \& Information Technology},
  volume = {21},
  number = {1},
  date = {2002},
  pages = {1-25},
  doi = {10.1080/01449290110108659}
}|

\bibexample<NHR \S18.8.5>
|Ya-Ming Liu, Yea-Huei Kao Yang, and Chee-Ruey Hsieh, \enquote{Regulation and Competition in the Taiwanese Pharmaceutical Market under National Health Insurance}, \emph{Journal of Health Economics}, 31 (2012), 471–83. doi: 10.1016/j.jhealeco.2012.03.003|%
||%
|@article{liu.etal2012rct,
  author = {Ya-Ming Liu and Yea-Huei Kao Yang and Chee-Ruey Hsieh},
  title = {Regulation and Competition in the Taiwanese Pharmaceutical Market under National Health Insurance},
  journaltitle = {Journal of Health Economics},
  volume = {31},
  year = {2012},
  pages = {471-483},
  doi = {10.1016/j.jhealeco.2012.03.003}
}|

\bibexample<NHR \S18.8.5>
|Shu Li, Chungkun Shih, Chen Wang, Hong Pang, and Dong Ren, \enquote{Forever Love: The Hitherto Earliest Record of Copulating Insects from the Middle Jurassic of China}, \emph{PLoS ONE}, 8/11 (2013), e78188. doi: 10.1371/journal.pone.0078188|%
||%
|@article{li.etal2013flh,
  author = {Shu Li and Chungkun Shih and Chen Wang and Hong Pang and Dong Ren},
  title = {Forever Love},
  subtitle = {The Hitherto Earliest Record of Copulating Insects from the Middle Jurassic of China},
  journaltitle = {PLoS ONE},
  volume = {8},
  number = {11},
  date = {2013},
  eid = {e78188},
  doi = {10.1371/journal.pone.0078188}
}|

\todoc|
\section{Periodicals with series}
|

\specs
|Author, \enquote{Title}, \emph{JournalTitle}, nth \lit{ser}. Vol/Number (Year), Pages.|%
|Author (Year), \enquote{Title}, \emph{JournalTitle}, nth \lit{ser}. Vol/Number: Pages.|

\specs
|Author, \enquote{Title}, \emph{JournalTitle}, \textsc{ns} Vol/Number (Year), Pages.|%
|Author (Year), \enquote{Title}, \emph{JournalTitle}, \textsc{ns} Vol/Number, Pages.|

\bibexample<OGS \S15.4.3>
|J. Barnes, \enquote{Homonymy in Aristotle and Speusippus}, \emph{Classical Quarterly}, \textsc{ns} 21 (1971), 65--80.|%
||%
|@article{barnes1971has,
  author = {J. Barnes},
  title = {Homonymy in Aristotle and Speusippus},
  journaltitle = {Classical Quarterly},
  series = {newseries},
  volume = {21},
  date = {1971},
  pages = {65--80}
}|

\bibexample(hacked)<OGS \S15.19.2>
||%
|Hankinson, R. J. (1989), \enquote{Galen and the Best of All Possible Worlds}, \emph{CQ} \textsc{ns} 39: 43–76.|%
|@article{hankinson1989gba,
  author = {R. J. Hankinson},
  year = {1989},
  title = {Galen and the Best of All Possible Worlds},
  journaltitle = {CQ\nopunct},
  series = {newseries},
  volume = {39},
  pages = {43–76}
}|

\todoc|
\section{Work published as an issue}

Taking the monograph edition as primary \aside{For this, abuse the appropriate monograph entry type: \code{book} or \code{collection}.}
|

\specs
|Author, \emph{Title} = \emph{JournalTitle}, Vol/Number (Location: Publisher, Year), pages.|%
|Author (Year), \emph{Title} = \emph{JournalTitle}, Vol/Number (Location: Publisher), pages.|

\bibexample(hacked)<OGS \S15.4.1>
|C. Bec (ed.), \emph{Italie 1500--1550: Une situation de crise?} = \emph{Annales de l'Université Jean Moulin}, 1975/2 (Langues étrangères, 2; Lyon, 1976), 99--109.|%
||%
|@collection{bec1976isc,
  editor = {C. Bec},
  title = {Italie 1500--1550},
  subtitle = {Une situation de crise?\nopunct},
  titleaddon = {= \emph{Annales de l'Université Jean Moulin}},
  note = {1975/2},
  series = {Langues étrangères},
  number = {2},
  location = {Lyon},
  date = {1976},
  pages = {99--109}
}|
  
\todoc|
Taking the serial edition as primary \aside{Use \code{issuetitle} instead of \code{title}.}
|

\specs
|Author, \emph{Title} = \emph{JournalTitle}, Vol/Number (Year).|%
|Author (Year), \emph{Title} = \emph{JournalTitle}, Vol/Number.|

\bibexample<OGS \S15.4.1>
|F. Trisoglio, \emph{Gregorio di Nazianzo in un quarentennio di recherche (1925--1965)} = \emph{Rivista Iasalliana}, 40 (1973).|%
||%
|@article{trisoglio1973gnq,
  author = {F. Trisoglio},
  issuetitle = {Gregorio di Nazianzo in un quarentennio di recherche (1925--1965)},
  journaltitle = {Rivista Iasalliana},
  volume = {40},
  date = {1973}
}|
  
\todoc|
\section{Article in issue that is a supplement to another issue}

\aside{Use \code{note} field to write ‘Supplement to’ and a reference to a \code{periodical}.}
|

\specs
|Author, \enquote{Title}, \emph{JournalTitle}, Vol/Number (Year); \lit{Supplement to} \emph{MainJournalTitle} Vol/Number, Pages.|%
|Author (Year), \enquote{Title}, \emph{JournalTitle}, Vol/Number; \lit{Supplement to} \emph{MainJournalTitle} Vol/Number: Pages.|

\bibexample<OGS \S15.4.1>
|X. Zhentao, K. K. C. Yau, and F. R. Stephenson, \enquote{Astronomical Records on the Shang Dynasty Oracle Bones}, \emph{Archaeoastronomy}, 14 (1989); Supplement to \emph{Journal for the History of Astronomy}, 20, pp. S61--S72.|%
||%
|@article{zhentao.etal1989ars,
  author = {X. Zhentao and K. K. C. Yau and F. R. Stephenson},
  title = {Astronomical Records on the Shang Dynasty Oracle Bones},
  journaltitle = {Archaeoastronomy},
  volume = {14},
  date = {1989},
  note = {Supplement to \fullcite{jha1989}},
  pages = {\ppno~S61-S72}
}
@periodical{jha1989,
  title = {Journal for the History of Astronomy},
  volume = {20}
}|
  
\todoc|
\section{Review}

\aside{If using Biber, use \code{related} to give the key of the reviewed item, and in \code{relatedtype} give the keyword \code{reviewof}. Otherwise, set the option \code{reviewed} with the value of the key of reviewed item; the reviewed item is given the category \code{reviewed} so it can be excluded from the bibliography if desired.}
|

\specs
|Author, \enquote{Title}, \lit{review of} ReviewedWork, \lit{in} \emph{JournalTitle}, Vol/Number (Year), Pages.|%
|Author (Year), \enquote{Title}, \lit{review of} ReviewedWork, \lit{in} \emph{JournalTitle}, Vol/Number: Pages.|

\bibexample<OGS \S15.4.4>
|J. Dean, review of Philippe Basiron, \emph{My Early Life} (Bourges, 1994), in \emph{Res facta}, 17 (1995), 56--9.|%
||%
|@review{dean1995rpb,
  author = {J. Dean},
  related = {basiron1994mel},
  relatedtype = {reviewof},
  journaltitle = {Res facta},
  volume = {17},
  date = {1995},
  pages = {56-59}
}
@book{basiron1994mel,
  author = {Philippe Basiron},
  title = {My Early Life},
  location = {Bourges},
  year = {1994}
}|

\bibexample<OGS \S15.4.4>
|H. D. Jocelyn, \enquote{Probus and Virgil}, review of Maria Luisa Delvigo, \emph{Testo virgiliano e tradizione indiretta} (Pisa, 1987), in \emph{CR}, \textsc{ns} 39 (1989), 27--8.|%
||%
|@review{jocelyn1989pav,
  author = {H. D. Jocelyn},
  title = {Probus and Virgil},
  options = {reviewed=delvigo1987tvt},
  journaltitle = {CR},
  series = {newseries},
  volume = {39},
  date = {1989},
  pages = {27-28}
}
@book{delvigo1987tvt,
  author = {Maria Luisa Delvigo},
  title = {Testo virgiliano e tradizione indiretta},
  location = {Pisa},
  date = {1987}
}|

%\item[Alternative styles]~
%\par Author, \enquote{Title}, \emph{JournalTitle}, Vol: Number (Year), Pages.
%\par Author (Year), \enquote{Title}, \emph{JournalTitle}, Vol/Number: Pages.
%\par Author (Year), \enquote{Title}, \emph{JournalTitle}, Vol (Number): Pages.

\todoc|
\section{Notes}

\begin{itemize}
  \item The \emph{Oxford Guide to Style} consistently prefers volume and part numbers to be written like \enquote{23/2}, but also discusses formats such as \enquote{23: 2} and \enquote{23 (2)}. \emph{New Hart's Rules} adds \enquote{23, 2} as a further possibility. The latter two are better suited to \textsf{oxyear} which uses a colon to demarcate the page numbers. \aside{To do, as a package option.}
  
  \item If the last\slash only word of the JournalTitle is abbreviated (indicated by point or capital letter), it does not need a comma after it. This can be achieved by adding \code{\textbackslash nopunct} to the end of the journal title.
\end{itemize}
|

\bibexample(hacked)<OGS \S15.4.1>
|B. Lindars, \enquote{Ezechiel and Individual Responsibility}, \emph{VT} 15 (1965), 452--67.|%
||%
|@article{lindars1965eir,
  author = {B. Lindars},
  title = {Ezechiel and Individual Responsibility},
  journaltitle = {VT\nopunct},
  volume = {15},
  date = {1965},
  pages = {452-467},
}|

\todoc|
\chapter{Theses and dissertations}\label{sec:thesis}
\chapterprecis{thesis}
|

\specs
|Author, \enquote{Title}, Type (Institution, Year).|%
|Author (Year), \enquote{Title}, Type (Institution).|

\bibexample<OGS \S15.5.1>
|Bonnie J. Blackburn, \enquote{The Lupus Problem}, Ph.D. diss. (University of Chicago, 1970).|%
||%
|@thesis{blackburn1970tlp,
  author = {Bonnie J. Blackburn},
  title = {The Lupus Problem},
  type = {Ph.D. diss.},
  institution = {University of Chicago},
  date = {1970}
}|

\todoc|
The following form is also shown: in future this might be supported as a package option.
|

\specs
|Author, \enquote{Title}, (Type, Institution, Year).|%
|Author (Year), \enquote{Title}, (Type, Institution).|

%\subsection{Notes}
%\begin{itemize}
%\item \enquote{Dissertation} should be abbreviated to \enquote{diss.} if the degree/level is given before it, or \enquote{Diss.} otherwise (i.e. German or Dutch dissertations).
%\end{itemize}

\todoc|
\chapter{Unpublished works}\label{sec:unpublished}
\chapterprecis{unpublished}

\section{Accepted journal article, pre-publication}
|

\specs
|Author, \enquote{Title} (\lit{to be published in} \emph{JournalTitle}, Year).|%
|Author (Year), \enquote{Title} (\lit{to be published in} \emph{JournalTitle}).|

\todoc|
\section{Unpublished conference paper}
|

\specs
|Author, \enquote{Title}, \lit{paper given at the} ConfTitle, Venue, EventDate.|%
|Author (Year), \enquote{Title}, \lit{paper given at the} ConfTitle, Venue, EventDate.|

\bibexample<OGS \S15.6>
|Leofranc Holford-Strevens, \enquote{Humanism and the Language of Music Theory Treatises}, paper given at the 65th Annual Meeting of the American Musicological Society, Kansas City, MO, 4--7 Nov. 1999.|%
||%
|@unpublished{holfordstrevens1999hlm,
  author = {Leofranc Holford-Strevens},
  title = {Humanism and the Language of Music Theory Treatises},
  howpublished = {paper given at the 65th Annual Meeting of the American Musicological Society},
  location = {Kansas City, MO},
  date = {1999-11-04/1999-11-07}
}|

\bibexample<OGS \S15.19.2>
||%
|Mason, J. B., Habicht, J. P., and Tabatabai, H. (1984), \enquote{Notes on Nutritional Surveillance}, paper delivered to the WHO conference.|%
|@unpublished{mason.etal1984nns,
  author = {J. B. Mason, and J. P. Habicht and H. Tabatabai},
  year = {1984},
  title = {Notes on Nutritional Surveillance},
  howpublished = {paper delivered to the WHO conference}
}|

\todoc|
\section{Unpublished orations, addresses, lectures, and speeches}
|

\specs
|Author, \enquote{Title}, Description.|%
|Author (Year), \enquote{Title}, Description.|

\bibexample<OGS \S15.19.2>
||%
|Pritchard, E., and Pritchard, J. (1990), \enquote{A Reply to Drèze}, unpub.\ paper.|%
|@unpublished{pritchard.pritchard1990ard,
  author = {E. Pritchard and J. Pritchard},
  year = {1990},
  title = {A Reply to Drèze},
  howpublished = {unpub.\ paper}
}|

\todoc|
\chapter{Poems}\label{sec:poem}

\section{Long poems}

Used for poems divided into cantos. When using numerals, Book uses full capital roman, Canto uses small capital roman, Stanza uses lowercase roman, Line uses arabic.

\spec{Author, \emph{Title}, Book. Canto. Stanza. Line.}

Spenser, \emph{Faerie Queene}, II. \textsc{vi}. xxxv. 7

When using words (i.e. when citing whole stanzas or greater), use small capital roman numerals: bk. ii, canto iv, stanza xxxi.

\spec{Author, \emph{Title}, \lit{bk.} Book, \lit{canto} Canto, \lit{stanza} Stanza, \lit{line} Line.}

Spenser, \emph{Faerie Queene}, bk. ii, canto vi, stanza iii
  
\section{Short poems}

\spec{Author, \enquote{Title}, in\dots}

W. H. Auden, \enquote{Es regnet auf mir in den Schottische Lände} [\emph{sic}], in \enquote{The German Auden: Six Early Poems}, trans. David Constantine, in Katherine Bucknell and Nicholas Jenkins (eds.), \emph{W. H. Auden, \enquote{The Map of All my Youth}: Early Works, Friends, and Influences} (Auden Studies, 1; Oxford, 1990), 1--15 at 6.

William of Blois, \enquote{The Quarrel of the Flea and the Fly} (\emph{Pulicis et musce iurgia}), trans. in Jan M. Ziolkowski, \emph{Talking Animals: Medieval Latin Beast Poetry, 750-1150} (Middle Ages Series, ed. Edward Peters; Philadelphia: University of Pennsylvania Press, 1993), 274--8.
  
\chapter{Plays}\label{sec:play}

\spec{Author, \emph{Title}, Act. Scene. Line.}

\spec{Author, \emph{Title}, \lit{Act} Act, \lit{Scene} Scene, \lit{line} Line.}

\section{Notes}

\begin{itemize}
  \item When using numerals only in a parenthetical citation, Act uses small capital roman numerals. Otherwise, Act uses full capital roman numerals.
  
  \item Scene always uses lowercase roman numerals and Line always uses arabic.
  
  \item The words \enquote{Act} and \enquote{Scene} are capitalized, whereas \enquote{line} is not: Act IV, Scene iii, line 10.
\end{itemize}

\chapter{Manuscripts}\label{sec:ms}

\spec{Author, Title, City, Archive, Collection Series, Volume.}

\section{Notes}

\begin{itemize}
  \item Volume means any lower level division (file, bundle, box). Use whatever system the archive uses.
  \item Abbreviate folio to fo. (or fos.). Superscript \textsuperscript{r} and \textsuperscript{v} for recto and verso: fo. 7\textsuperscript{r--v}, fos. 117\textsuperscript{v}--121\textsuperscript{r}.
\end{itemize}

\chapter{Audio and visual broadcasts and recordings}\label{sec:audiovideo}
\chapterprecis{audio, music}

\section{Audio recordings}

Oxref provides the additional editor types \code{performer}, \code{director} and \code{reader}.
|

\specs
|Composer, \emph{Title}, Artist (Series, Number, Year).|%
|Composer (Year), \emph{Title}, Artist (Series, Number).|

\bibexample<OGS \S15.14.1>
|Francois Couperin, \emph{Pièces de clavecin: Huit préludes de L'Art de toucher le clavecin. Livre I. Troisième et quatrième ordres}, Huguette Dreyfus (Valois, MB 797, 1970).|%
||%
|@music{couperin1970pdc,
  author = {Francois Couperin},
  title = {Pièces de clavecin},
  subtitle = {Huit préludes de L'Art de toucher le clavecin. Livre I. Troisième et quatrième ordres},
  editor = {Huguette Dreyfus},
  editortype = {performer},
  series = {Valois},
  number = {MB 797},
  date = {1970}
}|

\specs
|Composer, \emph{Title}, Ensemble, \lit{dir.} Director; Credit (Publisher Type Number, Year).|%
|Composer (Year), \emph{Title}, Ensemble, \lit{dir.} Director; Credit (Publisher Type Number).|

\bibexample<OGS \S15.14.1>
|Paul Hillier, \emph{Proensa} (ECM Records compact disc ECM 1368, 1989).|%
||%
|@music{hillier1989p,
  author = {Paul Hillier},
  title = {Proensa},
  publisher = {ECM Records},
  type = {compact disc},
  number = {ECM 1368},
  date = {1989}
}|

\bibexample<OGS \S15.14.1>
|\emph{The Mirror of Narcissus: Songs by Guillaume de Machaut}, Gothic Voices, dir. Christopher Page (Hyperion compact disc CDA 66087).|%
||%
|@music{pageNDmn,
  title = {The Mirror of Narcissus},
  subtitle = {Songs by Guillaume do Machaut},
  editor = {Gothic Voices},
  editortype = {performer},
  editora = {Christopher Page},
  editoratype = {director},
  publisher = {Hyperion},
  type = {compact disc},
  number = {CDA 66087}
}|

\specs
|Composer, \emph{Title}, Artist (Publisher Series, Number, Year) (Medium).|%
|Composer (Year), \emph{Title}, Artist (Publisher Series, Number) (Medium).|

\bibexample<OGS \S15.14.1>
|Lightnin' Hopkins, \emph{The Complete Aladdin Recordings} (EMI Blues Series, CDP-7-96843-2) (two-volume compact disc set).|%
||%
|@music{hopkinsNDcar,
  author = {Lightnin’ Hopkins},
  title = {The Complete Aladdin Recordings},
  publisher = {EMI},
  series = {Blues Series},
  number = {CDP-7-96843-2},
  pubstate = {two-volume compact disc set}
}|

\specs
|Author, \emph{Title}, \lit{read by} Reader (Medium, Number, Year).|%
|Author (Year), \emph{Title}, \lit{read by} Reader (Medium, Number).|

\bibexample<OGS \S15.14.1>
|C. S. Lewis, \emph{The Lion, the Witch, and the Wardrobe}, read by Sir Michael Hordern (2 audio cassettes, TO1611, 1981).|%
||%
|@audio{lewis1981lww,
  author = {C. S. Lewis},
  title = {The Lion, the Witch, and the Wardrobe},
  editor = {Sir Michael Hordern},
  editortype = {reader},
  howpublished = {2 audio cassettes},
  number = {TO1611},
  date = {1981},
}|

\specs
|Speaker, \emph{Title} (Publisher, Number, Year).|%
|Speaker (Year), \emph{Title} (Publisher, Number).|

\todoc|
\section{Video recordings}
|

\specs
|\emph{Title} (Publisher, Number, Year).|%
|\emph{Title} (Year) (Publisher, Number).|

\todoc|
\emph{The Ashes: Victory in Australia} (BBCV 4040, 1987).
|

\specs
|\enquote{EpisodeTitle}, \emph{SeriesTitle} \lit{series} (Publisher, Number, Year).|%
|\enquote{EpisodeTitle} (Year), \emph{SeriesTitle} \lit{series} (Publisher, Number).|

\todoc|
\enquote{Percy and Harold and Other Stories}, \emph{Thomas the Tank Engine and Friends} series (Britt Allcroft 5-014861-100224, 1986).
|

\specs
|Director (\lit{dir.}), \emph{Title} (Publisher, Number, Year).|%
|Director (Year) (\lit{dir.}), \emph{Title} (Publisher, Number).|

\todoc|
Charles Chaplin (dir.), \emph{Modern Times} (United Artists, 1936).
|

\specs
|\emph{Title}, \lit{dir.} Director (Publisher, Number, Year).|%
|\emph{Title} (Year), \lit{dir.} Director (Publisher, Number).|

\todoc|
\emph{This is Spinal Tap: A Rockumentary by Marti Di Bergi}, dir.\ Rob Reiner (Embassy Pictures, 1983).
|

\specs
|\emph{Title} (Publisher, Number, Year), Credit.|%
|\emph{Title} (Year) (Publisher, Number), Credit.|

\todoc|
\emph{Leningrad Cowboys Go America} (Villealfa Filmproductions, 1989), dir.\ and screenplay by Aki Kaurismäki, story by Sakke Järvenpää, Aki Kaurismäki, Mato Valtonen.

\section{Broadcasts}
|

\specs
|\emph{Title}, Channel, Date.|%
|\emph{Title} (Date), Channel.|

\todoc|
\emph{Sunday Grandstand}, BBC2, 17 Sept. 1995.
|

\specs
|\enquote{EpisodeTitle}, \emph{SeriesTitle}, \lit{Episode} EpisodeNumber, Channel, Date.|%
|\enquote{EpisodeTitle} (Date), \emph{SeriesTitle}, \lit{Episode} EpisodeNumber, Channel.|

\todoc|
John Berger, Episode 1, \emph{Ways of Seeing}, BBC (1972), \url{https://www.youtube.com/watch?v=0pDE4VX_9Kk}, accessed 9 Nov. 2013.
|

\todoc|
\section{Notes}

\begin{itemize}
  \item Credit means a string like \enquote{edition and project supervision by Editor}.
\end{itemize}

\chapter{Online resources}\label{sec:electronic}
\chapterprecis{online}
|

\specs
|Author, \enquote{SectionTitle}, \emph{Title} [Medium], (Date) $\langle$URL$\rangle$ Division, \lit{accessed} URLDate.|%
|Author (Date), \enquote{SectionTitle}, \emph{Title} [Medium], $\langle$URL$\rangle$ Division, \lit{accessed} URLDate.|

\bibexample<OGS \S15.15.2>
|Barbara Quint, \enquote{One Hour to Midnight: \emph{Tasini} Oral Arguments at the Supreme Court}, \emph{Information Today} [online journal], 18/5 (May 2001) $\langle$\url{http://www.infotoday.com/newsbreaks/nb010330-1.htm}$\rangle$, accessed 1 July 2001.|%
||%
|@article{quint2001ohm,
  author = {Barbara Quint},
  title = {One Hour to Midnight: \emph{Tasini} Oral Arguments at the Supreme Court},
  journaltitle = {Information Today},
  entrysubtype = {online journal},
  volume = {18},
  number = {5},
  date = {2001-05},
  url = {http://www.infotoday.com/newsbreaks/nb010330-1.htm},
  urldate = {2001-07-01}
}|

\bibexample<OGS \S15.15.3>
|William Strunk, Jr., \emph{The Elements of Style} (1st edn., Geneva, NY: W. P. Humphrey, 1918), published online July 1999 $\langle$\url{http://www.bartleby.com/141}$\rangle$|%
||%
|@book{strunk1999tes,
  author = {Strunk, Jr., William},
  title = {The Elements of Style},
  edition = {1},
  location = {Geneva, NY},
  publisher = {W. P. Humphrey},
  date = {1918},
  url = {http://www.bartleby.com/141},
  urldate = {1999-07},
  options = {urldatetype=published{\space}online}
}|

\specs
|Author, \enquote{SectionTitle}, \emph{Title} [Medium], (Date) $\langle$\lit{DOI} DOI$\rangle$ Division.|%
|Author (Date), \enquote{SectionTitle}, \emph{Title} [Medium], $\langle$\lit{DOI} DOI$\rangle$ Division.|

\todoc|
\section{Online articles}
|

\bibexample<NHR \S18.8.5>
|BBC News, \enquote{Colchester General Hospital: Police Probe Cancer Treatment} (5 Nov. 2013), \url{http://www.bbc.co.uk/news/uk-england-essex-24819973}, accessed 5 Nov. 2013.|%
||%
|@online{bbc2013cgh,
  author = {{BBC News}},
  title = {Colchester General Hospital},
  subtitle = {Police Probe Cancer Treatment},
  date = {2013-11-05},
  url = {http://www.bbc.co.uk/news/uk-england-essex-24819973},
  urldate = {2013-11-05}
}|

\bibexample<NHR \S18.8.5>
|Richard Hooper, \enquote{Lebanon's Forgotten Space Programme}, BBC News Magazine (14 Nov. 2013), \url{http://www.bbc.co.uk/news/magazine-24735423}, accessed 14 Nov. 2013.|%
||%
|@online{hooper2013lfs,
  author = {Richard Hooper},
  title = {Lebanon's Forgotten Space Programme},
  organization = {BBC News Magazine},
  date = {2013-11-14},
  url = {http://www.bbc.co.uk/news/magazine-24735423},
  urldate = {2013-11-14}
}|

\bibexample<NHR \S18.8.5>
|Stephen McEwen, \enquote{Tan Twan Eng Interview: \enquote{I Have No Alternative but to Write in English}}, \emph{The Spectator} (20 May 2013), \url{http://blogs.spectator.co.uk/books/2013/05/tan-twang-eng-interview-i-have-no-alternative-but-to-write-in-english/}, accessed 9 Nov. 2013.|%
||%
|@article{mcewen2013tte,
  author = {Stephen McEwen},
  title = {Tan Twan Eng Interview: \enquote{I Have No Alternative but to Write in English}},
  journaltitle = {The Spectator},
  date = {2013-05-20},
  url = {http://blogs.spectator.co.uk/books/2013/05/tan-twang-eng-interview-i-have-no-alternative-but-to-write-in-english/},
  urldate = {2013-11-09}
}|

\bibexample<NHR \S18.8.5>
|Michael Allaby, \enquote{Feathers and Lava Lamps}, Oxford Reference (2013), \url{http://www.oxfordreference.com/page/featherslavalamps}, accessed 9 Nov. 2013.|%
||%
|@online{allaby2013fll,
  author = {Michael Allaby},
  title = {Feathers and Lava Lamps},
  organization = {Oxford Reference},
  date = {2013},
  url = {http://www.oxfordreference.com/page/featherslavalamps},
  urldate = {2013-11-09}
}|

\bibexample<NHR \S18.8.5>
|Siu-Lan Tan, \enquote{Why does this Baby Cry when her Mother Sings?} [including video], OUPblog (5 Nov. 2013), \url{http://blog.oup.com/2013/11/why-does-this-baby-cry-when-her-mother-sings-viral-video/}, accessed 9 Nov. 2013.|%
||%
|@online{tan2013wdt,
  author = {Siu-Lan Tan},
  title = {Why does this Baby Cry when her Mother Sings?},
  entrysubtype = {including video},
  organization = {OUPblog},
  date = {2013-11-05},
  url = {http://blog.oup.com/2013/11/why-does-this-baby-cry-when-her-mother-sings-viral-video/},
  urldate = {2013-11-09}
}|

\todoc|
\section{Online reference article}
|

\bibexample<NHR \S18.8.5>
|\enquote{Gunpowder Plot}, \emph{Encyclopaedia Britannica}, \url{http://www.britannica.com/EBchecked/topic/249505/Gunpowder-Plot}, accessed 5 Nov. 2013.|%
||%
|@online{eb2013gp,
  title = {Gunpowder Plot},
  maintitle = {Encyclopaedia Britannica},
  url = {http://www.britannica.com/EBchecked/topic/249505/Gunpowder-Plot},
  urldate = {2013-11-05}
}|

\bibexample<NHR \S18.8.5>
|\enquote{Oxford University Press}, Wikipedia (last modified 5 Nov. 2013), \url{http://en.wikipedia.org/wiki/Oxford_University_Press}, accessed 5 Nov. 2013.|%
||%
|@online{wp2013oup,
  title = {Oxford University Press},
  organization = {Wikipedia},
  date = {2013-11-05},
  options = {datetype={last modified}},
  url = {http://en.wikipedia.org/wiki/Oxford_University_Press},
  urldate = {2013-11-05}
}|

\todoc|
\section{Online video}
|

\bibexample<NHR \S18.8.5>
|BBC News, \enquote{Inside India's Mars Mission HQ} [video] (5 Nov. 2013), \url{http://www.bbc.co.uk/news/world-24826253}, accessed 5 Nov. 2013.|%
||%
|@online{bbc2013iim,
  author = {{BBC News}},
  title = {Inside India's Mars Mission HQ},
  entrysubtype = {video},
  date = {2013-11-05},
  url = {http://www.bbc.co.uk/news/world-24826253},
  urldate = {2013-11-05}
}|

\bibexample<NHR \S18.8.5>
|Christie Nicholson, \enquote{A Quirk of Speech May Become a New Vocal Style} [video], \emph{Scientific American}, 17 Dec. 2011, \url{http://www.scientificamerican.com/podcast/episode.cfm?id=a-quirk-of-speech-may-become-a-new-11-12-17}, accessed 4 Nov. 2013.|%
||
|@article{nicholson2011qsm,
  author = {Christie Nicholson},
  title = {A Quirk of Speech May Become a New Vocal Style},
  entrysubtype = {video},
  journaltitle = {Scientific American},
  date = {2011-12-17},
  url = {http://www.scientificamerican.com/podcast/episode.cfm?id=a-quirk-of-speech-may-become-a-new-11-12-17},
  urldate = {2013-11-04}
}|

\bibexample<NHR \S18.8.5>
|Malala Yousafzai, \enquote{Making a Wish for Action on Global Education: Malala Yousafzai Addresses Youth Assembly at UN on her 16th Birthday, 12 July 2013} [webcast], UN Web TV, 12 Jul 2013, \url{http://webtv.un.org/search/malala-yousafzai-un-youth-assembly/2542094251001?term=malala}, accessed 15 Feb. 2015.|%
||%
|@online{yousafzai2013mwa,
  author = {Malala Yousafzai},
  title = {Making a Wish for Action on Global Education},
  subtitle = {Malala Yousafzai Addresses Youth Assembly at UN on her 16th Birthday, 12 July 2013},
  entrysubtype = {webcast},
  organization = {UN Web TV},
  date = {2013-07-12},
  url = {http://webtv.un.org/search/malala-yousafzai-un-youth-assembly/2542094251001?term=malala},
  urldate = {2015-02-15}
}|

\bibexample<NHR \S18.8.5>
|Arthur Rubinstein, \enquote{Rachmaninoff Piano Concerto No. 2, Op. 18, I Moderato, Allegro (Fritz Reiner)} [video], YouTube (recorded 9 Jan. 1956, uploaded 8 Nov. 2011), \url{http://www.youtube.com/watch?v=0Vv0Sy9FJrc&list=PLDB11C4F39E09047F}, accessed 9 Nov. 2013.|%
||%
|@online{rubinstein1956rpc,
  author = {Arthur Rubinstein},
  title = {Rachmaninoff Piano Concerto No. 2, Op. 18, I Moderato, Allegro (Fritz Reiner)},
  entrysubtype = {video},
  organization = {YouTube},
  date = {1956-01-09},
  options = {datetype={recorded}},
  note = {uploaded 8 Nov. 2011},
  url = {http://www.youtube.com/watch?v=0Vv0Sy9FJrc&list=PLDB11C4F39E09047F},
  urldate = {2013-11-09}
}|

\todoc|
\section{Online image}
|

\bibexample<NHR \S18.8.5>
|M. Clarke, \enquote{Exports of Coal to the IFS} [poster], Manchester Art Gallery, \url{http://www.machestergalleries.org/the-collections/search-the-collection/display.php?EMUSESSID=70bd7f1a388d79a82f52ea9aae713ef2&irn=4128}, accessed 5 Nov. 2013.|%
||%
|@online{clarkeNDeci,
  author = {M. Clarke},
  title = {Exports of Coal to the IFS},
  entrysubtype = {poster},
  organization = {Manchester Art Gallery},
  url = {http://www.machestergalleries.org/the-collections/search-the-collection/display.php?EMUSESSID=70bd7f1a388d79a82f52ea9aae713ef2&irn=4128},
  urldate = {2013-11-05}
}|

\bibexample<NHR \S18.8.5>
|\enquote{Christ the Good Shepherd}, stained glass window, Church of St Erfyl, Llanerfyl, Powys, Imaging the Bible in Wales Database, \url{http://imagingthebible.llgc.org.uk/object/1884}, accessed 10 Nov. 2013.|%
||%
|@online{ibwNDcgs,
  title = {Christ the Good Shepherd},
  note = {stained glass window, Church of St Erfyl, Llanerfyl, Powys},
  organization = {Imaging the Bible in Wales Database},
  url = {http://imagingthebible.llgc.org.uk/object/1884},
  urldate = {2013-11-10}
}|

\todoc|
\section{Podcast}
|

\bibexample<NHR \S18.8.5>
|Grayson Perry, \enquote{I Found Myself in the Art World} [podcast], Reith Lecture (5 Nov. 2013), BBC Radio 4, \url{http://downloads.bbc.co.uk/podcasts/radio4/reith/reith_20131105-0940b.mp3}, accessed 5 Nov. 2013.|%
||%
|@online{perry2013ifm,
  author = {Grayson Perry},
  title = {I Found Myself in the Art World},
  entrysubtype = {podcast},
  organization = {Reith Lecture},
  date = {2013-11-05},
  addendum = {BBC Radio 4},
  url = {http://downloads.bbc.co.uk/podcasts/radio4/reith/reith_20131105-0940b.mp3},
  urldate = {2013-11-05}
}|

\todoc|
\section{Social media}
|

\bibexample<NHR \S18.8.5>
|Barack Obama, \enquote{Tomorrow is Veterans Day} [Facebook post] (10 Nov. 2013), \url{https://www.facebook.com/barackobama/photos/a.53081056748.66806.6815841748/10151936988101749/}, accessed 13 Nov. 2013.|
||%
|@online{obama2013tvd,
  author = {Barack Obama},
  title = {Tomorrow is Veterans Day},
  entrysubtype = {Facebook post},
  date = {2013-11-10},
  url = {https://www.facebook.com/barackobama/photos/a.53081056748.66806.6815841748/10151936988101749/},
  urldate = {2013-11-13}
}|

\bibexample<NHR \S18.8.5>
|John Harvey, \enquote{\enquote{These are a Few of My Favourite Things}, No.~28} [Facebook post] (13 Nov. 2013), \url{https://www.facebook.com/photo.php?fbid=229786530530896&set=a.108896335953250.15125.100004986510149&type=1&theatre}, accessed 13 Nov. 2013.|%
||%
|@online{harvey2013tfm,
  author = {John Harvey},
  title = {\enquote{These are a Few of My Favourite Things}, No.~28},
  entrysubtype = {Facebook post},
  date = {2013-11-13},
  url = {https://www.facebook.com/photo.php?fbid=229786530530896&set=a.108896335953250.15125.100004986510149&type=1&theatre},
  urldate = {2013-11-13}
}|

\bibexample<NHR \S18.8.5>
|Shakespeare's Globe, \enquote{On this day in 1611 first production of The Tempest was performed by King's Men at Whitehall Palace before James I} [Twitter post], 5.48~a.m., 1 Nov. 2013, \url{https://twitter.com/The_Globe/status/396257422928400385}, accessed 5 Nov. 2013.|%
||%
|@online{globe2013otd,
  author = {{Shakespeare's Globe}},
  title = {On this day in 1611 first production of The Tempest was performed by King's Men at Whitehall Palace before James I},
  entrysubtype = {Twitter post},
  time = {5.48~a.m.},
  date = {2013-11-01},
  url = {https://twitter.com/The_Globe/status/396257422928400385},
  urldate = {2013-11-05}
}|

\todoc|
\section{Software}
|

\bibexample<NHR \S18.8.5>
|Simoga, \emph{Device 6}, (version 1.1) [mobile application for iPhone and iPad], downloaded 9 Nov. 2013.|%
||%
|@software{simoga1.1d6,
  author = {Simoga},
  title = {Device 6},
  version = {1.1},
  entrysubtype = {mobile application for iPhone and iPad},
  urldate = {2013-11-09}
}|

\bibexample<NHR \S18.8.5>
|T. S. Eliot, \emph{The Waste Land} (version 1.1.1) [mobile application for iPad] (London: Touch Press, 2013), downloaded 9 Nov. 2013.|%
||%
|@software{eliot1.1.1twl,
  author = {T. S. Eliot},
  title = {The Waste Land},
  version = {1.1.1},
  entrysubtype = {mobile application for iPad},
  location = {London},
  publisher = {Touch Press},
  date = {2013},
  urldate = {2013-11-09}
}|

\todoc|
\section{Database}
|

\bibexample<NHR \S18.8.5>
|United Nations, \emph{World Population Prospects: The 2010 Revision} [CD-ROM] (New York: United Nations Department of Economic and Social Affairs, Population Division, 2011).|%
||%
|@manual{un2011wpp,
  author = {{United Nations}},
  title = {World Population Prospects},
  subtitle = {The 2010 Revision},
  entrysubtype = {CD-ROM},
  location = {New York},
  publisher = {United Nations Department of Economic and Social Affairs, Population Division},
  date = {2011}
}|

\todoc|
\section{Notes}

\begin{itemize}
  \item Indicate missing date of publication with n.d.
  \item Clarify meaning of date if needed: posted 10 Oct. 2001.
|  

\bibexample<OGS \S15.15.3>
|R. M. Ritter, \enquote{About the Oxford Guide to Style}, \emph{Oxford Editorial} [website], (updated 10~Oct.\ 2001) $\langle$\url{http://www.ritter.org.uk/Oxford_Editorial/AboutOGS.html}$\rangle$|%
||%
|@online{ritter2001aog,
  author = {R. M. Ritter},
  title = {About the Oxford Guide to Style},
  maintitle = {Oxford Editorial},
  entrysubtype = {website},
  date = {2001-10-10},
  options = {datetype=updated},
  url = {http://www.ritter.org.uk/Oxford_Editorial/AboutOGS.html}
}|

\todoc|  
  \item Access date can be omitted if publication date is given.
  \item Division can include instruction to search: s.v. \enquote{trignonometry}.
\end{itemize}

\chapter{General formatting}

\section{Citation style}
|

\todoc[oxnotes]|
The Oxnotes bibliography style is intended for use with a footnote or endnote citation style,
and indeed loads the generic \textsf{biblatex} one.
Note that while the note text generated by the style is very similar to that which appears in the bibliography,
there is a difference in how author names are printed.
|
\todoc[oxnotes]|
The Oxyear bibliography style is intended for use with an author–year citation style,
and indeed loads the generic \textsf{biblatex} one.
|

\todoc|
\section{Author's Name}

\subsection{Name format}
|
\todoc[oxnotes]|
Forenames are not reduced to initials.
In notes, authors' names are written in natural order. In the bibliography,
they are inverted and (optionally) written in small capitals:
\spec{\textsc{Author, First}, \lit{and} \textsc{Author, Second}, \emph{Title} (Location: Publisher, Year).}
By default, Oxnotes uses small capitals if available;
to use normal case instead, issue the following command after loading the style:
\lstinline!\DeclareNameAlias{oxrefstartname}{lcstartname}!
|
\todoc[oxyear]|
Authors' names are written inverted, with forenames reduced to initials.
|

\todoc|
\subsection{Number of authors printed}

No more than three authors are given:\par
\egcite{eliot1977m}\par
\egcite{rouse.rouse1991btu}\par
\egcite{brady.etal1994hehsa}\par
\egcite{stewart.etal1994mb} % This is actually five authors

\subsection{Pseudonyms}

If adding a famous pseudonym to a work published under a real name,
the name should be styled as follows:
\spec{Real Name (Pen Name)}
Use the \textsf{biblatex} field \code{nameaddon} for the alternative name.
|

\bibexample<OGS \S15.2.1>
|C. L. Dodgson (Lewis Carroll), \emph{Symbolic Logic} (Oxford: Clarendon Press, 1896).|%
||%
|@book{dodgson1896sl,
  author = {C. L. Dodgson},
  nameaddon = {Lewis Carroll},
  title = {Symbolic Logic},
  location = {Oxford},
  publisher = {Clarendon Press},
  date = {1896}
}|

\todoc[oxnotes]|
In the Humanities, authors are sometimes marked with ‘Pseudo’ to indicate
pseudepigraphy, i.e.\ the work was falsely attributed. This renders as
‘Pseudo-Name’ in notes and as ‘\textsc{Name (Ps.-)}’ or ‘\textsc{Name (Pseudo-)}’
in the bibliography. A mechanism for this has not yet been added to the style,
but may be in future.
|
\todoc|
\subsection{Missing attribution}

If the authorship of a work has been inferred, in some disciplines it is usual
to enclose the name in square brackets (though this does not affect how the work
is alphabetized). Oxref provides a special author type for this: \code{inferred}.
For possible compatibility with other styles, the type that triggers this formatting
can be changed to something else with \lstinline!\renewcommand*{\isInferred}{something else}!.

Repetitions still get replaced by a rule.\\\egcite{balfour1768pe}

If a work is not attributed to an author, it may be listed in the bibliography
under the author name \enquote{Anonymous}.|
\todoc[oxnotes]|(In note text, however, no author name is given.)|
\todoc|Currently Oxref does not do this; the work is simply listed under its title.
Future versions may however provide this functionality.
|

\bibexample<OGS \S15.2.1>
|\emph{Stories after Nature} (London: Allman, 1822).|%
||%
|@book{anon1822san,
  title = {Stories after Nature},
  location = {London},
  publisher = {Allman},
  date = {1822}
}|

\bibexample<OGS \S15.2.1>
|\emph{Liber usualis} (Tournai: Desclée, 1956).|%
||%
|@book{anon1956lu,
  title = {Liber usualis},
  location = {Tournai},
  publisher = {Desclée},
  date = {1956}
}|

\todoc|

\section{Titles and subtitles}

\begin{itemize}
  \item
  Titles are not converted to lowercase.
  
  \item
  Subtitles are separated from titles by a colon.
  
  \item
  Subtitles are given an initial capital.
  \par\egcite{bettelheim1976uem}
\end{itemize}

\section{Publishers}

If the place of publication is absent, replace with n.p.

Publisher names may be uniformly omitted from all citations and bibliography entries.
There may be a package option to switch off publisher names in future.

\section{Dates}

Happily, Oxford style matches the default \textsf{biblatex} behaviour of
abbreviating months to three letters except for May, June, July, and Sept.

\section{Foliation}

\begin{itemize}
  \item Page number format: 32.
  \item Volume and page number format: iv.\ 32.
  \item Volume and preliminary page number format: vol.\ iv, p.\ xxxii.
  \item Page ranges should be compact: 32--3.\\\egcite{dean1995rpb}
\end{itemize}
|

\todoc[oxnotes]|
If a particular page is required the first time a source is cited, it should be given after the full page range:
|

\bibexample<OGS \S15.1>
|Mary A. Rouse and Richard H. Rouse, \enquote{The Book Trade at the University of Paris, c.1250--c.1350}, in eid., \emph{Authentic Witnesses: Approaches to Medieval Texts and Manuscripts} (Publications in Medieval Studies, 17; Notre Dame, IN, 1991), 259--338 at 332.|%
||%
|@inbook{rouse.rouse1991btu,
  author = {Mary A. Rouse and Richard H. Rouse},
  gender = {pp},
  title = {The Book Trade at the University of Paris, c.1250--c.1350},
  bookauthor = {Mary A. Rouse and Richard H. Rouse},
  booktitle = {Authentic Witnesses},
  booksubtitle = {Approaches to Medieval Texts and Manuscripts},
  series = {Publications in Medieval Studies},
  number = {17},
  location = {Notre Dame, IN},
  date = {1991},
  pages = {259--338}
}|[332]

\todoc[oxnotes]|
\section{Repeated citations}

Oxford style does not prescribe a particular way of abbreviating the second and subsequent citations of a work, but does suggest the following shorthand expressions for use with closely proximate repeated citations:

\begin{itemize}
  \item Ibid. = in the same place = same author and title as immediately preceding citation.
  \item Author, op. cit. = in the cited work = same title as the last cited work by the specified author. Best suited to occasions where a work is being singled out from a recently cited list of works. 
  \item Author, art. cit. = in the cited article = same title as the last cited article by the specified author. Best suited to occasions where a work is being singled out from a recently cited list of works.
  \item Author, loc. cit. = at the cited place = same title and page range as the last cited work by the specified author. Rarely needed.
  \item Id. = same = same male author as the immediately preceding citation.
  \item Ead. = same = same female author as the immediately preceding citation.
  \item Eid. = same = same male authors, or male and female authors, as the immediately preceding citation.
  \item Eaed. = same = same female authors as the immediately preceding citation.
\end{itemize}

A \textsf{biblatex} implementation of this may be added in future.
|

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% STYLE DOCUMENTATION -- ENDMATTER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\todoc|
\printbibliography[notcategory=reviewed]
\end{document}
|

\closeoutputstream{oxnotes}
\closeoutputstream{oxyear}
\closeoutputstream{src}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% COMMON PACKAGE DOCUMENTATION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% For typesetting the implementation
\usepackage{metalogo}
\usepackage{makedoc}[2012/04/03]
\usepackage{niceverb}[2012/08/27]
\renewcommand{\SetOffInlineCmdBox}{\textcolor{red!75!black}}
\renewcommand*{\TreatAsCode}[1]{%
  \ifPackageCode
  \else
  \WriteResult{\string\begin{tcblisting}{breakable,listing only,listing options={firstnumber=last}}}%
  \PackageCodeTrue
  \fi
  \WriteResult{#1}%
}
\renewcommand*{\TreatAsComment}[1]{%
  \ifPackageCode
  \WriteResult{\string\end{tcblisting}}%
  \WriteResult{}
  \PackageCodeFalse
  \EveryComment
  \fi
  \WriteResult{#1}%
}
\makeatletter
\PushCatMakeLetter\_
\renewcommand*{\make_doc_arg}[1]{%
  \makedoc_maybe_autocorr
  \ifnum\value{lstnumber}>\z@
  \WriteResult{\string\begin{tcblisting}{breakable,listing only,listing options={firstnumber=1}}}%
  \PackageCodeTrue
  \else
  \PackageCodeFalse
  \fi
  \ProcessFileWith{#1}{%
  \CountInputLines
  \makedoc_line_body
  \process_line_message
  }%
  \ifPackageCode
  \WriteResult{\string\end{tcblisting}}
  \PackageCodeFalse
  \fi
}
\PopLetterCat\_
\makeatother

\title{Oxref: Biblatex styles inspired by the Oxford Guide to Style}
\author{Alex Ball}

\providecommand*{\listinglabel}[1]{%
  \llap{\scriptsize\itshape\the#1}\hskip\listingoffset\relax
}%
\providecommand*{\TODO}{\textcolor{blue}{TODO}}
 

\begin{document}
\thispagestyle{empty}\noNiceVerb
\begin{adjustwidth}{.2\textwidth}{0pt}
  \sffamily\setlength{\parindent}{0pt}%
  \LARGE\textsc{oxref bundle}
  
  \vspace{\stretch{1}}
  \LARGE OXREF
  
  \Large Biblatex styles inspired by the \emph{Oxford Guide to Style}
  
  \bigskip
  \Large\theauthor
  
  \bigskip
  \Large\ifx\undefined\thedate\today\else\thedate\fi
\end{adjustwidth}

\vspace{\stretch{3}}
\noindent
\hspace*{.1\textwidth}\raisebox{0pt}[0pt][0pt]{\rule{\normalrulethickness}{\textheight}}

\chapter*{Preface}

This document provides the documented sources for the \textsf{oxref}
biblography styles:
\begin{itemize}
  \item
  \textsf{oxnotes}: a style similar to the standard \textsf{verbose}, intended for use with footnotes;
  \item
  \textsf{oxyear}: a style similar to the standard \textsf{authoryear}, intended for use with parenthetical in-text citations.
\end{itemize}
For information on how to use the styles, please refer to the separate documentation files
\texttt{oxnotes-doc.pdf} and \texttt{oxyear-doc.pdf} respectively.

\tableofcontents*

\lstset
  { basicstyle=\footnotesize\ttfamily
  , breaklines=true
  , escapechar=
  , numbers=left
  , numberstyle=\footnotesize\itshape\color{gray}
  , numbersep=20pt
  }%
\useNiceVerb
\CopyFDconditionFromTo{PScomment}{comment}
\bgroup\let\tt\ttfamily

\chapter{oxref.bbx}

\renewcommand*{\mdJobName}{oxref}
\MakeInputJobDoc[bbx]{0}{\SectionLevelTwoParseInput}

\chapter{oxnotes.bbx}

\renewcommand*{\mdJobName}{oxnotes}
\MakeInputJobDoc[bbx]{0}{\SectionLevelTwoParseInput}

\chapter{oxyear.bbx}

\renewcommand*{\mdJobName}{oxyear}
\MakeInputJobDoc[bbx]{0}{\SectionLevelTwoParseInput}

\chapter{british-oxref.lbx}

\renewcommand*{\mdJobName}{british-oxref}
\MakeInputJobDoc[lbx]{0}{\SectionLevelTwoParseInput}

\egroup
\noNiceVerb
\end{document}